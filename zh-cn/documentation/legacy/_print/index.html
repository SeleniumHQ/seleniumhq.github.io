<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=/zh-cn/documentation/legacy/><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Legacy | Selenium</title><meta name=description content="在此部分，您可以找到与Selenium的旧组件有关的所有文档. 这样做纯粹是出于历史原因，而不是鼓励使用已废弃的组件. 
"><meta property="og:title" content="Legacy"><meta property="og:description" content="在此部分，您可以找到与Selenium的旧组件有关的所有文档. 这样做纯粹是出于历史原因，而不是鼓励使用已废弃的组件. 
"><meta property="og:type" content="website"><meta property="og:url" content="/zh-cn/documentation/legacy/"><meta property="og:image" content="/images/selenium_4_logo.png"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="Legacy"><meta itemprop=description content="在此部分，您可以找到与Selenium的旧组件有关的所有文档. 这样做纯粹是出于历史原因，而不是鼓励使用已废弃的组件. 
"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/selenium_4_logo.png"><meta name=twitter:title content="Legacy"><meta name=twitter:description content="在此部分，您可以找到与Selenium的旧组件有关的所有文档. 这样做纯粹是出于历史原因，而不是鼓励使用已废弃的组件. 
"><link rel=preload href=/scss/main.min.e89958a82aeff5262a771343a3d97435402301004cc66d164803ec706f4e860e.css as=style><link href=/scss/main.min.e89958a82aeff5262a771343a3d97435402301004cc66d164803ec706f4e860e.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.3.min.js integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script defer data-domain=selenium.dev src=https://plausible.io/js/plausible.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-light bg-white flex-row td-navbar"><a class=navbar-brand href=/zh-cn/><span class=navbar-logo><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-1{fill:#43b02a}</style></defs><title>Selenium logo green</title><path class="cls-1" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-1" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-1" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-1" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-1" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-1" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-1" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-1" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-1" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-1" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 ps-4 ps-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-cn/about>About Selenium</a>
<a class=dropdown-item href=/zh-cn/project>Structure and Governance</a>
<a class=dropdown-item href=/zh-cn/events>Events</a>
<a class=dropdown-item href=/zh-cn/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/zh-cn/history>History</a>
<a class=dropdown-item href=/zh-cn/getinvolved>Get Involved</a>
<a class=dropdown-item href=/zh-cn/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>中文简体</a><ul class=dropdown-menu><li><a class=dropdown-item href=/documentation/legacy/>English</a></li><li><a class=dropdown-item href=/pt-br/documentation/legacy/>Português (Brasileiro)</a></li><li><a class=dropdown-item href=/ja/documentation/legacy/>日本語</a></li></ul></div></li></ul><div class=navbar-nav><div id=docsearch></div></div></div></nav><section id=announcement-banner class="alert-static g-0 row -bg-selenium-blue"><div class="container g-0" style=padding:10px><div class="row g-0 justify-content-center"><div class="alert alert-selenium-blue col-12 fade show mb-0 p-0 -bg-selenium-blue" role=alert><h4 class="alert-heading text-center m-0">SeleniumConf Chicago 2023 is a wrap!
<a href="https://www.youtube.com/playlist?list=PLRdSclUtJDYXDEsWI0vwBmJxW17NgsaAk" target=_blank aria-pressed=true>Watch the Videos</a></h4></div></div></div></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/documentation/legacy/>返回本页常规视图</a>.</p></div><h1 class=title>Legacy</h1><div class=lead>在此部分，您可以找到与Selenium的旧组件有关的所有文档. 这样做纯粹是出于历史原因，而不是鼓励使用已废弃的组件.</div><ul><li>1: <a href=#pg-4bf330fd5a475db1e4da06cb7c681d5e>Selenium RC (Selenium 1)</a></li><li>2: <a href=#pg-0732b4f345393ba2bef87c26733d9d8b>Selenium 2</a></li><ul><li>2.1: <a href=#pg-23e90ee960cb2d855aefe8e77f95e70b>从RC迁移到WebDriver</a></li><li>2.2: <a href=#pg-4385b6f362b0596ebcd161689f59adf4>远程WebDriver服务器</a></li></ul><li>3: <a href=#pg-e279bf25ef6f679a74567eae8d28a0d2>Selenium 3</a></li><ul><li>3.1: <a href=#pg-ac76bae276f27fd0f1424e73b7d95663>服务网格 3</a></li><li>3.2: <a href=#pg-31b83379d2b863eb0549de7e457f5733>配置自己的服务网格</a></li><li>3.3: <a href=#pg-7b2bda126f0ba862a2f42215dac75b96>服务网格的组件</a></li></ul><li>4: <a href=#pg-5131ec21377a8d67404a3f8a494a56d0>Legacy Selenium IDE</a></li><ul><li>4.1: <a href=#pg-79b55613fab8efd3102a974a15d92b90>HTML runner</a></li></ul></ul><div class=content></div></div><div class=td-content><h1 id=pg-4bf330fd5a475db1e4da06cb7c681d5e>1 - Selenium RC (Selenium 1)</h1><div class=lead>原始版本的Selenium</div><h2 id=介绍>介绍</h2><p>在WebDriver / Selenium合并产生功能更强大的Selenium 2之前,
Selenium RC一直是Selenium的主要项目.
再次特意强调的是, Selenium 1不再享有技术支持.</p><h2 id=selenium-rc-的工作原理>Selenium RC 的工作原理</h2><p>首先, 我们将描述Selenium RC的组件如何运行
以及每个组件在运行测试脚本中所扮演的角色.</p><h3 id=rc-组件>RC 组件</h3><p>Selenium RC 组件包括:</p><ul><li>Selenium 服务器, 用于启动并关闭浏览器,
解释运行从测试程序传递来的Selenese命令,
并充当 <em>HTTP代理</em> ,
拦截和验证在浏览器和AUT之间传递的HTTP消息.</li><li>客户端库, 提供每种编程语言和
Selenium RC 服务器之间的接口.</li></ul><p>以下是一个简化的架构图:</p><p><img src=/images/documentation/legacy/selenium_rc_architecture_diagram_simple.png alt="Architecture Diagram Simple"></p><p>该图显示了客户端库与服务器通信,
并传递了用来执行的每个Selenium命令.
然后, 服务器使用Selenium-Core的JavaScript命令
将Selenium命令传递到浏览器.
浏览器使用其JavaScript解释器执行Selenium命令.
这将运行您在测试脚本中指定的Selenese操作或验证行为.</p><h3 id=selenium-服务器>Selenium 服务器</h3><p>Selenium 服务器从您的测试程序接收Selenium命令,
对其进行解释,
然后将运行这些测试的结果报告给您的程序.</p><p>RC服务器捆绑了Selenium Core并将其自动注入浏览器.
当您的测试程序打开浏览器(使用客户端库API函数)时,
会发生这种情况.
Selenium-Core是一个JavaScript程序,
实际上是一组JavaScript函数,
这些函数使用浏览器的内置JavaScript解释器来解释
和执行Selenese命令.</p><p>服务器使用简单的HTTP GET / POST请求从您的测试程序接收Selenese命令.
这意味着您可以使用任何可以发送HTTP请求的编程语言
来自动执行浏览器中的Selenium测试.</p><h3 id=客户端库>客户端库</h3><p>客户端库提供了编程支持,
使您可以从自己设计的程序中运行Selenium命令.
每种受支持的语言都有一个不同的客户端库.
Selenium客户端库提供了一个编程接口(API),
即一组函数, 可从您自己的程序中运行Selenium命令.
在每个界面中, 都有一个支持每个Selenese命令的编程功能.</p><p>客户端库接受Selenese命令,
并将其传递给Selenium 服务器,
以针对被测应用程序(AUT)处理特定操作或测试.
客户端库还接收该命令的结果, 并将其传递回您的程序.
您的程序可以接收结果并将其存储到程序变量中,
并将其报告为成功或失败,
或者如果是意外错误,
则可以采取纠正措施.</p><p>因此, 要创建测试程序,
只需编写一个使用客户端库API运行一组Selenium命令的程序.
并且, 可选地, 如果您已经在Selenium-IDE中创建了Selenese测试脚本,
则可以 <em>生成Selenium RC代码</em> .
Selenium-IDE可以(使用其"导出"菜单项)
将其Selenium命令转换为客户端驱动程序的API函数调用.
有关从Selenium-IDE导出RC代码的详细信息,
请参见Selenium-IDE章节.</p><h2 id=安装>安装</h2><p>安装对于Selenium来说是谬称.
Selenium具有一组可用您选择的编程语言提供的库. 您可以从 <a href=https://selenium.dev/downloads/>下载页面</a>下载它们.</p><p>选择了要使用的语言后, 您只需要:</p><ul><li>安装Selenium RC服务器.</li><li>使用特定语言的客户端驱动程序设置编程项目.</li></ul><h3 id=安装selenium服务器>安装Selenium服务器</h3><p>Selenium RC服务器只是一个Java <em>jar</em> 文件
( <em>selenium-server-standalone-<version-number>.jar</em> ),
不需要任何特殊的安装.
只需下载zip文件并将服务器提取到所需目录中就足够了.</p><h3 id=运行selenium服务器>运行Selenium服务器</h3><p>在开始任何测试之前, 您必须启动服务器.
转到Selenium RC服务器所在的目录,
然后从命令行控制台运行以下命令.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>    java -jar selenium-server-standalone-&lt;version-number&gt;.jar
</span></span></code></pre></div><p>通过创建包含上述命令的批处理或Shell可执行文件
(Windows上为.bat, Linux上为.sh),
可以简化此操作.
然后在桌面上对该可执行文件创建快捷方式,
只需双击该图标即可启动服务器.</p><p>为了使服务器运行,
您需要安装Java并正确配置PATH环境变量才能从控制台运行它.
您可以通过在控制台上运行以下命令来检查是否正确安装了Java.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>       java -version
</span></span></code></pre></div><p>如果您查看到预期的版本号(必须为1.5或更高版本),
就可以开始使用Selenium RC了.</p><h3 id=使用java客户端驱动程序>使用Java客户端驱动程序</h3><ul><li>从SeleniumHQ <a href=https://selenium.dev/downloads/>下载页面</a> 下载Selenium Java客户端驱动程序zip</li><li>解压 selenium-java-<version-number>.jar 文件</li><li>打开所需的Java IDE(Eclipse, NetBeans, IntelliJ, Netweaver等)</li><li>创建一个Java项目.</li><li>将selenium-java-.jar文件添加到您的项目中作为依赖.</li><li>将文件selenium-java-.jar添加到您的项目类路径中.</li><li>从Selenium-IDE中, 将脚本导出到Java文件并将其包含在Java项目中,
或者使用selenium-java-client API用Java编写Selenium测试.
该API将在本章稍后介绍.
您可以使用JUnit或TestNg来运行测试,
也可以编写自己的简单main()程序.
这些概念将在本节稍后说明.</li><li>从控制台运行Selenium服务器.</li><li>从Java IDE或命令行执行测试.</li></ul><p>有关Java测试项目配置的详细信息,
请参阅附录部分.
使用Eclipse配置Selenium RC和使用Intellij配置Selenium RC.</p><h3 id=使用python客户端驱动程序>使用Python客户端驱动程序</h3><ul><li>通过PIP安装Selenium, 说明链接在SeleniumHQ <a href=https://selenium.dev/downloads/>下载页面</a></li><li>用Python编写Selenium测试
或将脚本从Selenium-IDE导出到python文件.</li><li>从控制台运行Selenium服务器</li><li>从控制台或Python IDE执行测试</li></ul><p>有关Python客户端驱动程序配置的详细信息,
请参见附录Python客户端驱动程序配置.</p><h3 id=使用net客户端驱动程序>使用.NET客户端驱动程序</h3><ul><li>从SeleniumHQ <a href=https://selenium.dev/downloads/>下载页面</a> 下载Selenium RC</li><li>解压缩文件夹</li><li>下载并安装<a href=https://nunit.org/download/>NUnit</a>
(注意：您可以将NUnit用作测试引擎.
如果您还不熟悉NUnit,
还可以编写一个简单的main()函数来运行测试；
但是NUnit作为测试引擎非常有用)</li><li>打开所需的.Net IDE(Visual Studio, SharpDevelop, MonoDevelop)</li><li>创建一个类库(.dll)</li><li>添加对以下DLL的引用：
nmock.dll,
nunit.core.dll,
nunit.framework.dll,
ThoughtWorks.Selenium.Core.dll,
ThoughtWorks.Selenium.IntegrationTests.dll
和ThoughtWorks.Selenium.UnitTests.dll</li><li>用.Net语言(C＃, VB.Net)编写Selenium测试,
或将脚本从Selenium-IDE导出到C＃文件,
然后将此代码复制到刚创建的类文件中.</li><li>编写自己的简单main()程序,
或者可以在项目中包含NUnit来运行测试.
这些概念将在本章稍后说明.</li><li>从控制台运行Selenium服务器</li><li>从IDE, NUnit GUI或命令行运行测试</li></ul><p>有关使用Visual Studio配置.NET客户端驱动程序的详细信息,
请参阅附录.NET客户端驱动程序配置.</p><h3 id=使用ruby客户端驱动程序>使用Ruby客户端驱动程序</h3><ul><li>如果您还没有RubyGems, 请从RubyForge安装它.</li><li>运行 <code>gem install selenium-client</code></li><li>在测试脚本的顶部, 添加 <code>require "selenium/client"</code></li><li>使用任何Ruby测试工具
(例如Test::Unit, Mini::Test或RSpec)编写测试脚本.</li><li>从控制台运行Selenium RC服务器.</li><li>以与运行其他任何Ruby脚本相同的方式执行测试.</li></ul><p>有关Ruby客户端驱动程序配置的详细信息, 请参见 <code>Selenium-Client documentation</code>_</p><h2 id=从-selenese-到程序>从 Selenese 到程序</h2><p>使用Selenium RC的主要任务
是将您的Selenese转换为编程语言.
在本节中, 我们提供了几种不同的特定于语言的示例.</p><h3 id=示例测试脚本>示例测试脚本</h3><p>让我们从一个Selenese测试脚本示例开始. 试想用Selenium-IDE录制以下测试.</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>open</td><td>/</td><td></td></tr><tr><td>type</td><td>q</td><td>selenium rc</td></tr><tr><td>clickAndWait</td><td>btnG</td><td></td></tr><tr><td>assertTextPresent</td><td>Results * for selenium rc</td><td></td></tr></tbody></table><p>注意：此示例适用于Google搜索页面 <a href=http://www.google.com>http://www.google.com</a></p><h3 id=selenese作为编程代码>Selenese作为编程代码</h3><p>这是(通过Selenium-IDE)导出到每种支持的编程语言的测试脚本.
如果您具有基本的面向对象编程语言的基础知识,
则可以通过阅读以下示例之一
来了解Selenium如何运行Selenese命令.
要查看特定语言的示例,
请选择以下按钮之一.</p><h4 id=csharp>CSharp</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Text</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Text.RegularExpressions</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Threading</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>NUnit.Framework</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>namespace</span> <span style=color:#000>SeleniumTests</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>            [TestFixture]</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>ISelenium</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>StringBuilder</span> <span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                
</span></span></span><span style=display:flex><span><span style=color:#c4a000>                [SetUp]</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>SetupTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Start</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>verificationErrors</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StringBuilder</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                
</span></span></span><span style=display:flex><span><span style=color:#c4a000>                [TearDown]</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>TeardownTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Stop</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#8f5902;font-style:italic>// Ignore errors if unable to close the browser</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToString</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>                
</span></span></span><span style=display:flex><span><span style=color:#c4a000>                [Test]</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>TheNewTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WaitForPageToLoad</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;selenium rc - Google Search&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetTitle</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=java>Java</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>      
</span></span><span style=display:flex><span>	  <span style=color:#8f5902;font-style:italic>/** Add JUnit framework to your classpath if not already there 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	   *  for this example to work
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	  */</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.example.tests</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.thoughtworks.selenium.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.regex.Pattern</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SeleneseTestCase</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setUp</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>              <span style=color:#000>setUp</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>testNew</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>open</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>waitForPageToLoad</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#000>assertTrue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isTextPresent</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>          <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=php>Php</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>&lt;?</span><span style=color:#000>php</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>require_once</span> <span style=color:#4e9a06>&#39;PHPUnit/Extensions/SeleniumTestCase.php&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Example</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>PHPUnit_Extensions_SeleniumTestCase</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>setUp</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>setBrowser</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>setBrowserUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>testMyTestCase</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>waitForPageToLoad</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>          <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>assertTrue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>isTextPresent</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>?&gt;</span><span style=color:#a40000>
</span></span></span></code></pre></div><h4 id=python>Python</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>selenium</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>unittest</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>time</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>re</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unittest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>TestCase</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>setUp</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>verificationErrors</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                      <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>         
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>test_new</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>              <span style=color:#000>sel</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span>
</span></span><span style=display:flex><span>              <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>wait_for_page_to_load</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>failUnless</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>is_text_present</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>         
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>tearDown</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>assertEqual</span><span style=color:#000;font-weight:700>([],</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=ruby>Ruby</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87>require</span> <span style=color:#4e9a06>&#34;selenium/client&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87>require</span> <span style=color:#4e9a06>&#34;test/unit&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>Test</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Unit</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>TestCase</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>setup</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@verification_errors</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>[]</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>$selenium</span>
</span></span><span style=display:flex><span>            <span style=color:#000>@selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$selenium</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>else</span>
</span></span><span style=display:flex><span>            <span style=color:#000>@selenium</span> <span style=color:#ce5c00;font-weight:700>=</span>  <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Client</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>new</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>60</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_context</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;test_new&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>teardown</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stop</span> <span style=color:#204a87;font-weight:700>unless</span> <span style=color:#000>$selenium</span>
</span></span><span style=display:flex><span>          <span style=color:#000>assert_equal</span> <span style=color:#ce5c00;font-weight:700>[]</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>@verification_errors</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>test_new</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>open</span> <span style=color:#4e9a06>&#34;/&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>type</span> <span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>click</span> <span style=color:#4e9a06>&#34;btnG&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>wait_for_page_to_load</span> <span style=color:#4e9a06>&#34;30000&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000>assert</span> <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>is_text_present</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>end</span>
</span></span></code></pre></div><p>在下一节中,
我们将说明如何使用生成的代码来构建测试程序.</p><h2 id=编写测试程序>编写测试程序</h2><p>现在, 我们将使用每种受支持的编程语言的示例
来说明如何对自己的测试进行编程.
本质上有两个任务:</p><ul><li>从Selenium-IDE将脚本生成为代码,
可以选择修改结果.</li><li>编写一个非常简单的执行生成代码的主程序.</li></ul><p>(可选)您可以采用测试引擎平台,
例如JUnit或Java的TestNG,
或使用NUnit的.NET
(如果使用的是其中一种语言).</p><p>在这里, 我们显示特定于语言的示例.
特定语言的API彼此之间往往有所不同,
因此您会为每个API找到单独的解释</p><ul><li>Java</li><li>C#</li><li>Python</li><li>Ruby</li><li>Perl, PHP</li></ul><h3 id=java-1>Java</h3><p>对于Java, 人们使用JUnit或TestNG作为测试引擎.<br>某些开发环境(如Eclipse)通过插件直接支持这些环境.
这使它变得更加容易.
讲授JUnit或TestNG不在本文档的范围之内,
但是可以在网上找到资料,
并且可以找到出版物.
如果您恰巧熟悉Java全家桶,
那么您的开发人员将已经具有使用某种测试框架的经验.</p><p>您可能需要将测试类从" NewTest"重命名为您自己选择的名称.
另外, 您将需要在语句中更改浏览器打开参数:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*iehta&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>Selenium-IDE生成的代码将如下所示.
此示例具有手动添加的注释,
以提高清晰度.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.example.tests</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// We specify the package of our tests
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.thoughtworks.selenium.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// This is the driver&#39;s import. You&#39;ll use this for instantiating a
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>// browser and making it do what you need.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.regex.Pattern</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// Selenium-IDE add the Pattern module because it&#39;s sometimes used for 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>// regex validations. You can remove the module if it&#39;s not used in your 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#8f5902;font-style:italic>// script.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SeleneseTestCase</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// We create our Selenium test case
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setUp</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>           <span style=color:#000>setUp</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>// We instantiate and start the browser
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>testNew</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>              <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>open</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>              <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>              <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>click</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>              <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>waitForPageToLoad</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>              <span style=color:#000>assertTrue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isTextPresent</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>              <span style=color:#8f5902;font-style:italic>// These are the real test steps
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>   <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=c><code>C#</code></h3><p>.NET客户端驱动程序可与Microsoft.NET一起使用.
它可以与任何.NET测试框架(
如NUnit或Visual Studio 2005 Team System)一起使用.</p><p>Selenium-IDE假定您将使用NUnit作为测试框架.
您可以在下面的生成的代码中看到这一点.
它包含NUnit的using语句以及相应的NUnit属性,
这些属性标识测试类的每个成员函数的角色.</p><p>您可能必须将测试类从" NewTest"重命名为您自己选择的名称.
另外, 您将需要在语句中更改浏览器打开参数:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>    <span style=color:#000>selenium</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*iehta&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><p>生成的代码将类似于此.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Text</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Text.RegularExpressions</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>System.Threading</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>NUnit.Framework</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>using</span> <span style=color:#000>Selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>namespace</span> <span style=color:#000>SeleniumTests</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>        [TestFixture]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>ISelenium</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>StringBuilder</span> <span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>
</span></span></span><span style=display:flex><span><span style=color:#c4a000>        [SetUp]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>SetupTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*iehta&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Start</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>verificationErrors</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>StringBuilder</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>
</span></span></span><span style=display:flex><span><span style=color:#c4a000>        [TearDown]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>TeardownTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Stop</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Exception</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Ignore errors if unable to close the browser</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToString</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>        [Test]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>TheNewTest</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Open Google search engine.        </span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span> 
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Assert Title of page.</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Google&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetTitle</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Provide search term as &#34;Selenium OpenQA&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Selenium OpenQA&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Read the keyed search term and assert it.</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Selenium OpenQA&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Click on Search button.</span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Wait for page to load.</span>
</span></span><span style=display:flex><span>            <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WaitForPageToLoad</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;5000&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Assert that &#34;www.openqa.org&#34; is available in search results.</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IsTrue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>IsTextPresent</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;www.openqa.org&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Assert that page title is - &#34;Selenium OpenQA - Google Search&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AreEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Selenium OpenQA - Google Search&#34;</span><span style=color:#000;font-weight:700>,</span> 
</span></span><span style=display:flex><span>                         <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetTitle</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>您可以允许NUnit管理测试的执行.
或者, 您可以编写一个简单的 <code>main()</code> 程序,
该程序实例化测试对象并依次运行三个方法 <code>SetupTest()</code>,
<code>TheNewTest()</code>和 <code>TeardownTest()</code> .</p><h3 id=python-1>Python</h3><p>Pyunit是用于Python的测试框架.</p><p>基本测试结构是:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>selenium</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>selenium</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># This is the driver&#39;s import.  You&#39;ll use this class for instantiating a</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># browser and making it do what you need.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>unittest</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>time</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>re</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># This are the basic imports added by Selenium-IDE by default.</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># You can remove the modules if they are not used in your script.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>NewTest</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unittest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>TestCase</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># We create our unittest test case</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>setUp</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>verificationErrors</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># This is an empty array where we will store any verification errors</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># we find in our tests</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                   <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># We instantiate and start the browser</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>test_new</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># This is the test code.  Here you should put the actions you need</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># the browser to do during your test.</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>           <span style=color:#000>sel</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># We assign the browser to the variable &#34;sel&#34; (just to save us from </span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># typing &#34;self.selenium&#34; each time we want to call the browser).</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>           <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>wait_for_page_to_load</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>failUnless</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>sel</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>is_text_present</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># These are the real test steps</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>tearDown</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># we close the browser (I&#39;d recommend you to comment this line while</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># you are creating and debugging your tests)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>           <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>assertEqual</span><span style=color:#000;font-weight:700>([],</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>verificationErrors</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># And make the test fail if we found that any verification errors</span>
</span></span><span style=display:flex><span>           <span style=color:#8f5902;font-style:italic># were found</span>
</span></span></code></pre></div><h3 id=ruby-1>Ruby</h3><p>Selenium-IDE的旧版本(2.0之前的版本)生成
需要旧Selenium gem的Ruby代码.
因此, 建议如下更新IDE生成的所有Ruby脚本:</p><ol><li><p>在第一行, 修改 <code>require "selenium"</code> 为 <code>require "selenium/client"</code></p></li><li><p>在第十一行, 修改 <code>Selenium::SeleniumDriver.new</code> 为
<code>Selenium::Client::Driver.new</code></p></li></ol><p>您可能还希望将类名更改为比"无标题"更具信息性的名称,
并将测试方法的名称更改为
&ldquo;test_untitled"以外的名称.</p><p>这是一个通过修改Selenium IDE
生成的Ruby代码创建的简单示例,
如上所述.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># load the Selenium-Client gem</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87>require</span> <span style=color:#4e9a06>&#34;selenium/client&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># Load Test::Unit, Ruby&#39;s default test framework.</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># If you prefer RSpec, see the examples in the Selenium-Client</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic># documentation.</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87>require</span> <span style=color:#4e9a06>&#34;test/unit&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Untitled</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>Test</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Unit</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>TestCase</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#8f5902;font-style:italic># The setup method is called before each test.</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>setup</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># This array is used to capture errors and display them at the</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># end of the test run.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@verification_errors</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Create a new instance of the Selenium-Client driver.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Client</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>new</span> <span style=color:#000;font-weight:700>\</span>
</span></span><span style=display:flex><span>         <span style=color:#4e9a06>:host</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>         <span style=color:#4e9a06>:port</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>         <span style=color:#4e9a06>:browser</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;*chrome&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>         <span style=color:#4e9a06>:url</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>         <span style=color:#4e9a06>:timeout_in_second</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#0000cf;font-weight:700>60</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Start the browser session</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Print a message in the browser-side log and status bar</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># (optional).</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_context</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;test_untitled&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#8f5902;font-style:italic># The teardown method is called after each test.</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>teardown</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Stop the browser session.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stop</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Print the array of error messages, if any.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>assert_equal</span> <span style=color:#ce5c00;font-weight:700>[]</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>@verification_errors</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#8f5902;font-style:italic># This is the main body of your test.</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>test_untitled</span>
</span></span><span style=display:flex><span>     
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Open the root of the site we specified when we created the</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># new driver instance, above.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>open</span> <span style=color:#4e9a06>&#34;/&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Type &#39;selenium rc&#39; into the field named &#39;q&#39;</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>type</span> <span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium rc&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Click the button named &#34;btnG&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>click</span> <span style=color:#4e9a06>&#34;btnG&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Wait for the search results page to load.</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># Note that we don&#39;t need to set a timeout here, because that</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic># was specified when we created the new driver instance, above.</span>
</span></span><span style=display:flex><span>       <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>wait_for_page_to_load</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>begin</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#8f5902;font-style:italic># Test whether the search results contain the expected text.</span>
</span></span><span style=display:flex><span>	  <span style=color:#8f5902;font-style:italic># Notice that the star (*) is a wildcard that matches any</span>
</span></span><span style=display:flex><span>	  <span style=color:#8f5902;font-style:italic># number of characters.</span>
</span></span><span style=display:flex><span>	  <span style=color:#000>assert</span> <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>is_text_present</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium rc&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>	  
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>rescue</span> <span style=color:#000>Test</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>Unit</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>AssertionFailedError</span>
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>          <span style=color:#8f5902;font-style:italic># If the assertion fails, push it onto the array of errors.</span>
</span></span><span style=display:flex><span>	  <span style=color:#000>@verification_errors</span> <span style=color:#ce5c00;font-weight:700>&lt;&lt;</span> <span style=color:#000>$!</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>end</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>end</span>
</span></span></code></pre></div><h3 id=perl-php>Perl, PHP</h3><p>文档团队的成员尚未将Selenium RC与Perl或PHP一起使用.
如果您将Selenium RC和这两种语言一起使用,
请联系文档团队(请参阅贡献一章).
我们很乐意提供一些您的经验和示例, 以支持Perl和PHP用户.</p><h2 id=学习-api>学习 API</h2><p>Selenium RC API使用命名约定,
假设您了解Selenese,
则大部分接口将是不言自明的.
但是, 在这里,
我们解释了最关键且可能不太明显的方面.</p><h3 id=启动浏览器>启动浏览器</h3><h4 id=csharp-1>CSharp</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>      <span style=color:#000>selenium</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Start</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=java-2>Java</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#000>setUp</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h4 id=perl>Perl</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$sel</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Test::WWW::Selenium</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#204a87;font-weight:700>new</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>host</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> 
</span></span><span style=display:flex><span>                                          <span style=color:#000>port</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> 
</span></span><span style=display:flex><span>                                          <span style=color:#000>browser</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span> 
</span></span><span style=display:flex><span>                                          <span style=color:#000>browser_url</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h4 id=php-1>Php</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>      <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>setBrowser</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>setBrowserUrl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h4 id=python-2>Python</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>      <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                               <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>      <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=ruby-2>Ruby</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>      <span style=color:#000>@selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Selenium</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>ClientDriver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>new</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.google.com/&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>10000</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000>@selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>start</span>
</span></span></code></pre></div><p>这些示例中的每一个都打开浏览器
并通过为程序变量分配"浏览器实例"来表示该浏览器.
然后, 该程序变量用于从浏览器调用方法.
这些方法执行Selenium命令,
即 <em>open</em> 或 <em>type</em> 或 <em>verify</em> 命令.</p><p>创建浏览器实例时所需的参数是:</p><ul><li><p><strong>host</strong>
指定服务器所在计算机的IP地址.
通常, 这是与客户端运行所在的计算机相同的主机,
因此在这种情况下,
将传递本地主机.
在某些客户端中,
这是可选参数</p></li><li><p><strong>port</strong>
指定服务器正在侦听的TCP/IP套接字,
以等待客户端建立连接.
在某些客户端驱动程序中这也是可选的.</p></li><li><p><strong>browser</strong>
您要在其中运行测试的浏览器.
这是一个必需的参数.</p></li><li><p><strong>url</strong>
被测应用程序的基本URL.
这是所有客户端库所必需的,
并且是启动浏览器-代理-AUT通信所必需的信息</p></li></ul><p>请注意, 某些客户端库要求通过调用浏览器的 <code>start()</code> 方法
来明确启动浏览器.</p><h3 id=运行命令>运行命令</h3><p>将浏览器初始化并分配给变量(通常称为"Selenium&rdquo;)后,
可以通过从浏览器变量调用相应的方法来使其运行Selenese命令.
例如, 调用Selenium对象的 <em>type</em> 方法:</p><pre tabindex=0><code>    selenium.type(&#34;field-id&#34;,&#34;string to type&#34;)
</code></pre><p>在后台, 浏览器实际上将执行 <em>type</em> 操作,
该操作基本上与用户通过以下方式在浏览器中键入输入相同：
使用定位符和您在方法调用期间指定的字符串.</p><h2 id=报告结果>报告结果</h2><p>Selenium RC没有自己的报告结果机制.
相反, 它允许您使用所选编程语言的功能来构建根据需要定制的报告.
太好了, 但是如果您只是想快速地为您完成某件事, 该怎么办？
与开发自己的测试报告代码相比,
现有的库或测试框架通常可以更快地满足您的需求.</p><h3 id=测试框架报告工具>测试框架报告工具</h3><p>测试框架可用于许多编程语言.
这些功能以及提供用于执行测试的灵活测试引擎的主要功能,
包括用于报告结果的库代码.
例如, Java有两个常用的测试框架,
即JUnit和TestNG.
.NET也有自己的NUnit</p><p>我们不会在这里教框架本身；
这超出了本用户指南的范围.
我们将简单介绍与Selenium相关的框架功能以及您可以应用的一些技术.
这些测试框架上都有不错的书籍,
但是互联网上的信息也很多.</p><h3 id=测试报告库>测试报告库</h3><p>还提供了专门创建的第三方库,
用于以您选择的编程语言报告测试结果.
这些通常支持多种格式, 例如HTML或PDF.</p><h3 id=最好的方法是什么>最好的方法是什么?</h3><p>大多数测试框架的新手都将从框架的内置报告功能开始.
从那里开始, 大多数人会检查任何可用的库,
因为与开发自己的库相比, 这样做所花的时间更少.
毫无疑问, 当您开始使用Selenium时,
您将开始输入自己的"打印报表"来报告进度.
这可能会逐渐导致您开发自己的报告,
这可能与使用库或测试框架同时进行.
无论如何, 经过最初但短暂的学习后,
您自然会开发出最适合自己情况的方法.</p><h3 id=测试报告示例>测试报告示例</h3><p>为了说明, 我们将指导您使用Selenium支持的其他一些语言的一些特定工具.
此处列出的是常用的,
并且由本指南的作者广泛使用(因此建议使用).</p><h4 id=java测试报告>Java测试报告</h4><ul><li><p>如果使用JUnit开发了Selenium测试用例,
则可以使用JUnit报告生成测试报告.</p></li><li><p>如果使用TestNG开发了Selenium测试用例,
则无需外部任务即可生成测试报告.
TestNG框架生成一个HTML报告,
其中列出了测试的详细信息.</p></li><li><p>ReportNG是用于TestNG框架的HTML报告插件.
它旨在替代默认的TestNG HTML报告.
ReportNG提供了简单的, 以颜色编码的测试结果视图.</p></li></ul><h5 id=记录selenese命令>记录Selenese命令</h5><ul><li>记录Selenium可以用于生成测试中所有Selenese命令
以及每个命令的成功或失败的报告.
记录Selenium扩展了Java客户端驱动程序
以添加此Selenese记录功能.</li></ul><h4 id=python测试报告>Python测试报告</h4><ul><li>使用Python客户端驱动程序时,
可以使用HTMLTestRunner生成测试报告.</li></ul><h4 id=ruby测试报告>Ruby测试报告</h4><ul><li>如果RSpec框架用于在Ruby中编写Selenium测试用例,
则其HTML报告可用于生成测试报告.</li></ul><h2 id=为测试加料>为测试加料</h2><p>现在, 我们将介绍使用Selenium RC的全部原因,
并在测试中添加编程逻辑.
与任何程序相同.
程序流使用条件语句和迭代进行控制.
另外, 您可以使用I/O报告进度信息.
在本节中, 我们将展示一些示例,
说明如何将编程语言构造与Selenium结合以解决常见的测试问题.</p><p>当您从对页面元素存在的简单测试
过渡到涉及多个网页和变化数据的动态功能测试时,
您将需要编程逻辑来验证预期结果.
基本上, Selenium-IDE不支持迭代和标准条件语句.
您可以通过将Javascript嵌入
Selenese参数中来执行某些条件,
但是迭代是不可能的, 并且大多数条件在编程语言.
此外, 您可能需要进行异常处理才能恢复错误.
出于这些原因及其他原因,
我们在本节中进行了说明,
以说明如何使用常见的编程技术为您的自动化测试提供更大的"验证能力".</p><p>本节中的示例使用C＃和Java编写,
尽管代码很简单并且可以轻松地适应其他受支持的语言.
如果您对面向对象的编程语言有一些基本的了解,
那么本部分将不难理解.</p><h3 id=迭代>迭代</h3><p>迭代是人们在测试中需要做的最常见的事情之一.
例如, 您可能要多次执行搜索.
或者, 可能是为了验证测试结果,
您需要处理从数据库返回的"结果集".</p><p>使用我们之前使用的相同Google搜索示例,
让我们检查Selenium搜索结果.
该测试可以使用Selenese:</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>open</td><td>/</td><td></td></tr><tr><td>type</td><td>q</td><td>selenium rc</td></tr><tr><td>clickAndWait</td><td>btnG</td><td></td></tr><tr><td>assertTextPresent</td><td>Results * for selenium rc</td><td></td></tr><tr><td>type</td><td>q</td><td>selenium ide</td></tr><tr><td>clickAndWait</td><td>btnG</td><td></td></tr><tr><td>assertTextPresent</td><td>Results * for selenium ide</td><td></td></tr><tr><td>type</td><td>q</td><td>selenium grid</td></tr><tr><td>clickAndWait</td><td>btnG</td><td></td></tr><tr><td>assertTextPresent</td><td>Results * for selenium grid</td><td></td></tr></tbody></table><p>该代码已重复执行3次相同的步骤.
但是, 同一代码的多个副本不是良好的编程习惯,
因为维护起来需要做更多的工作.
通过使用编程语言,
我们可以遍历搜索结果以提供更灵活和可维护的解决方案.</p><h4 id=在-c-中>在 <code>C#</code> 中</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// Collection of String values.</span>
</span></span><span style=display:flex><span>   <span style=color:#000>String</span><span style=color:#000;font-weight:700>[]</span> <span style=color:#000>arr</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;ide&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;rc&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;grid&#34;</span><span style=color:#000;font-weight:700>};</span>    
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// Execute loop for each String in array &#39;arr&#39;.</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>foreach</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>s</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>arr</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>sel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>       <span style=color:#000>sel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>type</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;selenium &#34;</span> <span style=color:#000;font-weight:700>+</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>       <span style=color:#000>sel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>click</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;btnG&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>       <span style=color:#000>sel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>waitForPageToLoad</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;30000&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>       <span style=color:#000>assertTrue</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Expected text: &#34;</span> <span style=color:#000;font-weight:700>+</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>+</span> <span style=color:#4e9a06>&#34; is missing on page.&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>,</span> <span style=color:#000>sel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>isTextPresent</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Results * for selenium &#34;</span> <span style=color:#000;font-weight:700>+</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=条件陈述>条件陈述</h3><p>为了说明在测试中的使用条件,
我们将从一个示例开始.
当页面上没有预期的元素时,
会发生运行Selenium测试时遇到的常见问题.
例如, 当运行以下行时:</p><pre tabindex=0><code>   selenium.type(&#34;q&#34;, &#34;selenium &#34; +s);
</code></pre><p>如果页面上没有元素"q",
则抛出异常:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#000>com</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>thoughtworks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SeleniumException</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>ERROR</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>Element</span> <span style=color:#000>q</span> <span style=color:#000>not</span> <span style=color:#000>found</span>
</span></span></code></pre></div><p>这可能会导致测试中止.
对于某些测试, 这就是您想要的.
但是通常这是不希望的,
因为您的测试脚本还有许多其他后续测试需要执行.</p><p>更好的方法是先验证元素是否确实存在,
然后在元素不存在时采取替代方法.
让我们用Java看一下</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>// If element is available on page then perform type operation.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isElementPresent</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;q&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Selenium rc&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>   <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printf</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Element: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span><span style=color:#000>q</span><span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34; is not available on page.&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>   <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>这种方法的优点是即使页面上某些UI元素不可用,
也可以继续执行测试.</p><h3 id=从测试中执行javascript>从测试中执行JavaScript</h3><p>在执行Selenium不直接支持的应用程序时,
JavaScript非常方便.
Selenium API的 <strong>getEval</strong> 方法.</p><p>考虑具有复选框的应用程序,
该复选框没有静态标识符.
在这种情况下,
可以评估Selenium RC中的JavaScript以获取所有复选框的ID,
然后执行它们.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>getAllCheckboxIds</span> <span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span> 
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;var inputId  = new Array();&#34;</span><span style=color:#ce5c00;font-weight:700>;</span><span style=color:#8f5902;font-style:italic>// Create array in java script.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;var cnt = 0;&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// Counter for check box ids.  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;var inputFields  = new Array();&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// Create array in java script.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;inputFields = window.document.getElementsByTagName(&#39;input&#39;);&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// Collect input elements.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;for(var i=0; i&lt;inputFields.length; i++) {&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// Loop through the collected elements.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;if(inputFields[i].id !=null &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>		<span style=color:#4e9a06>&#34;&amp;&amp; inputFields[i].id !=&#39;undefined&#39; &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>		<span style=color:#4e9a06>&#34;&amp;&amp; inputFields[i].getAttribute(&#39;type&#39;) == &#39;checkbox&#39;) {&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// If input field is of type check box and input id is not null.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;inputId[cnt]=inputFields[i].id ;&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#8f5902;font-style:italic>// Save check box id to inputId array.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#4e9a06>&#34;cnt++;&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#8f5902;font-style:italic>// increment the counter.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#4e9a06>&#34;}&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#8f5902;font-style:italic>// end of if.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#4e9a06>&#34;}&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// end of for.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>script</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#4e9a06>&#34;inputId.toString();&#34;</span> <span style=color:#ce5c00;font-weight:700>;</span><span style=color:#8f5902;font-style:italic>// Convert array in to string.			
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>checkboxIds</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>script</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>split</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;,&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// Split the string.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>checkboxIds</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>计算页面上的图像数量:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;window.document.images.length;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>记住要在DOM表达式的情况下使用window对象,
因为默认情况下是指Selenium窗口,
而不是测试窗口.</p><h2 id=服务器选项>服务器选项</h2><p>启动服务器时,
命令行选项可用于更改默认服务器行为.</p><p>回想一下, 通过运行以下命令来启动服务器.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   $ java -jar selenium-server-standalone-&lt;version-number&gt;.jar
</span></span></code></pre></div><p>要查看选项列表,
请使用 <code>-h</code> 选项运行服务器.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   $ java -jar selenium-server-standalone-&lt;version-number&gt;.jar -h
</span></span></code></pre></div><p>您会看到服务器可以使用的所有选项的列表
以及每个选项的简要说明.
提供的描述并不总是足够的,
因此我们提供了一些更重要选项的解释.</p><h3 id=代理配置>代理配置</h3><p>如果您的AUT在需要身份验证的HTTP代理后面,
则应使用以下命令配置http.proxyHost,
http.proxyPort,
http.proxyUser
和http.proxyPassword.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   $ java -jar selenium-server-standalone-&lt;version-number&gt;.jar -Dhttp.proxyHost<span style=color:#ce5c00;font-weight:700>=</span>proxy.com -Dhttp.proxyPort<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span> -Dhttp.proxyUser<span style=color:#ce5c00;font-weight:700>=</span>username -Dhttp.proxyPassword<span style=color:#ce5c00;font-weight:700>=</span>password
</span></span></code></pre></div><h3 id=多窗口模式>多窗口模式</h3><p>如果您使用的是Selenium 1.0,
则可能会跳过本节, 因为多窗口模式是默认行为.
但是, 在版本1.0之前,
Selenium默认在子frame中运行测试中的应用程序,
如下所示.</p><p><img src=/images/documentation/legacy/selenium_rc_single_window_mode.png alt=单窗口模式></p><p>某些应用程序无法在子框架中正常运行,
需要将其加载到窗口的顶部框架中.
多窗口模式选项允许AUT在单独的窗口中运行,
而不是在默认帧中运行,
然后在默认帧中可以拥有所需的顶部帧.</p><p><img src=/images/documentation/legacy/selenium_rc_multi_window_mode.png alt=多窗口模式></p><p>对于旧版本的Selenium,
您必须使用以下选项明确指定多窗口模式:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   -multiwindow 
</span></span></code></pre></div><p>从Selenium RC 1.0开始,
如果您想在一个框架内运行测试(即使用早期Selenium版本的标准),
则可以使用选项将此状态指定给Selenium服务器</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   -singlewindow 
</span></span></code></pre></div><h3 id=指定firefox配置文件>指定Firefox配置文件</h3><p>除非您为每个实例分别指定一个配置文件,
否则Firefox将不会同时运行两个实例.
Selenium RC 1.0和更高版本会自动在单独的配置文件中运行,
因此, 如果您使用的是Selenium 1.0, 则可以跳过本节.
但是, 如果您使用的是旧版本的Selenium,
或者需要使用特定的配置文件进行测试
(例如添加https证书或安装了一些插件),
则需要明确指定配置文件.</p><p>首先, 要创建一个单独的Firefox配置文件,
请遵循以下步骤.
打开Windows"开始"菜单, 选择"运行",
然后键入并输入以下内容之一:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   firefox.exe -profilemanager 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   firefox.exe -P 
</span></span></code></pre></div><p>使用对话框创建新的配置文件.
然后, 当您运行Selenium服务器时,
告诉它使用带有服务器命令行选项 <em>-firefoxProfileTemplate</em> 的
新Firefox配置文件,
并使用其文件名和目录路径指定配置文件的路径.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   -firefoxProfileTemplate <span style=color:#4e9a06>&#34;path to the profile&#34;</span> 
</span></span></code></pre></div><p><strong>注意</strong>: 确保将您的个人资料放在默认文件夹之外的新文件夹中！！！！
如果删除配置文件,
则Firefox配置文件管理器工具将删除文件夹中的所有文件,
无论它们是否是配置文件.</p><p>有关Firefox配置文件的更多信息,
请参见 <a href=http://support.mozilla.com/en/kb/Managing+profiles>Mozilla的知识库</a></p><h3 id=使用-htmlsuite在服务器内直接运行selenese>使用-htmlSuite在服务器内直接运行Selenese</h3><p>通过将html文件传递到服务器的命令行,
可以直接在Selenium 服务器中运行Selenese html文件. 例如:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   java -jar selenium-server-standalone-&lt;version-number&gt;.jar -htmlSuite <span style=color:#4e9a06>&#34;*firefox&#34;</span> 
</span></span><span style=display:flex><span>   <span style=color:#4e9a06>&#34;http://www.google.com&#34;</span> <span style=color:#4e9a06>&#34;c:\absolute\path\to\my\HTMLSuite.html&#34;</span> 
</span></span><span style=display:flex><span>   <span style=color:#4e9a06>&#34;c:\absolute\path\to\my\results.html&#34;</span>
</span></span></code></pre></div><p>这将自动启动您的HTML套件,
运行所有测试并保存带有结果的漂亮HTML报告.</p><p><em>注意:</em> 使用此选项时,
服务器将启动测试并等待指定的秒数以完成测试；
否则, 服务器将停止测试.
如果在这段时间内未完成测试,
则该命令将以非零的退出代码退出,
并且不会生成任何结果文件.</p><p>此命令行很长, 因此在键入时要小心.
请注意, 这要求您传递HTML Selenese套件,
而不是单个测试.
另请注意-htmlSuite选项与 <code>-interactive</code>不兼容,
您不能同时运行两者e.</p><h3 id=selenium-服务器日志>Selenium 服务器日志</h3><h4 id=服务端日志>服务端日志</h4><p>启动Selenium服务器时, <strong>-log</strong> 选项可用于
将Selenium服务器报告的有价值的调试信息
记录到文本文件中.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   java -jar selenium-server-standalone-&lt;version-number&gt;.jar -log selenium.log
</span></span></code></pre></div><p>该日志文件比标准控制台日志更详细
(它包含DEBUG级别的日志消息).
日志文件还包括记录器名称和记录消息的线程的ID号. 例如:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   20:44:25 DEBUG <span style=color:#ce5c00;font-weight:700>[</span>12<span style=color:#ce5c00;font-weight:700>]</span> org.openqa.selenium.server.SeleniumDriverResourceHandler - 
</span></span><span style=display:flex><span>   Browser 465828/:top frame1 posted START NEW
</span></span></code></pre></div><p>消息格式为</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   TIMESTAMP<span style=color:#ce5c00;font-weight:700>(</span>HH:mm:ss<span style=color:#ce5c00;font-weight:700>)</span> LEVEL <span style=color:#ce5c00;font-weight:700>[</span>THREAD<span style=color:#ce5c00;font-weight:700>]</span> LOGGER - MESSAGE
</span></span></code></pre></div><p>此消息可能是多行.</p><h4 id=浏览器端日志>浏览器端日志</h4><p>浏览器端的JavaScript(Selenium Core)也记录重要消息.
在许多情况下, 这些对于最终用户比常规的Selenium 服务器日志更有用.
要访问浏览器端日志,
请将 <strong>-browserSideLog</strong>参数传递给Selenium服务器.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   java -jar selenium-server-standalone-&lt;version-number&gt;.jar -browserSideLog
</span></span></code></pre></div><p><strong>-browserSideLog</strong> 必须与 <strong>-log</strong> 参数结合使用,
以将browserSideLogs(以及所有其他DEBUG级别的日志记录消息)记录到文件中.</p><h2 id=指定特定浏览器的路径>指定特定浏览器的路径</h2><p>您可以为Selenium RC指定到特定浏览器的路径.
如果您使用同一浏览器的不同版本,
并且希望使用特定的浏览器, 这将很有用.
另外, 它用于允许您的测试在Selenium RC不直接支持的浏览器上运行.
在指定运行模式时,
请使用*custom说明符,
后跟浏览器可执行文件的完整路径:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   *custom &lt;path to browser&gt; 
</span></span></code></pre></div><h2 id=selenium-rc-架构>Selenium RC 架构</h2><p><em>注意:</em> 本主题试图说明Selenium RC背后的技术实现.
Selenium用户了解这一点并不是基本知识,
但对于理解您将来可能会发现的一些问题可能很有用.</p><p>要详细了解Selenium RC Server的工作原理
以及为什么使用代理注入和增强特权模式,
您必须首先了解 <code>同源政策</code>.</p><h3 id=同源策略>同源策略</h3><p>Selenium面临的主要限制是同源策略.
此安全限制适用于市场上的每个浏览器,
其目的是确保一个站点的内容永远不会被另一个站点的脚本访问.
同源策略规定, 浏览器中加载的任何代码只能在该网站的域内运行.
它无法在其他网站上执行功能.
因此, 例如, 如果浏览器在加载www.mysite.com时加载了JavaScript代码,
则即使该网站是您的另一个网站,
也无法针对www.mysite2.com运行该加载的代码.
如果可能的话, 如果您在其他标签上打开了帐户页面,
则在您打开的任何网站上放置的脚本都将能够读取银行帐户上的信息.
这称为XSS(跨站点脚本).</p><p>要在此政策下工作,
必须将Selenium-Core(及其实现所有魔术的JavaScript命令)
放置在与被测应用程序相同的来源(相同的URL)中.</p><p>从历史上看, Selenium-Core受此问题限制,
因为它是用JavaScript实现的.
但是, Selenium RC不受"同一来源"政策的限制.
它使用Selenium服务器作为代理可以避免此问题.
从本质上讲, 它告诉浏览器该浏览器正在服务器提供的单个"欺骗"网站上工作.</p><p><em>注意:</em> 您可以在Wikipedia页面上找到有关此主题的其他信息,
这些信息与同源策略和XSS有关.</p><h3 id=代理注入>代理注入</h3><p>Selenium用来避免"同源策略"的第一种方法是代理注入.
在代理注入模式下,
Selenium 服务器充当客户端配置的 <strong>HTTP proxy</strong> <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>
位于浏览器和Test<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>中.
然后, 它在虚构的URL下掩盖AUT
(嵌入Selenium-Core和测试集, 并像它们来自同一来源一样进行交付).</p><p>以下是架构图.</p><p><img src=/images/documentation/legacy/selenium_rc_architecture_diagram_1.png alt="架构图 1"></p><p>当测试套件以您喜欢的语言开始时, 会发生以下情况:</p><ol><li>客户端/驱动程序与Selenium-RC服务器建立连接.</li><li>Selenium RC服务器启动带有URL的浏览器(或重用旧的浏览器),
该URL将Selenium-Core的JavaScript注入浏览器加载的网页中.</li><li>客户端驱动程序将Selenese命令传递到服务器.</li><li>服务器解释命令, 然后触发相应的JavaScript执行以在浏览器中执行该命令.
Selenium-Core指示浏览器按照第一条指令操作,
通常会打开AUT的页面.</li><li>浏览器收到打开的请求,
并从Selenium RC服务器
(设置为供浏览器使用的HTTP代理)
中请求网站的内容.</li><li>Selenium RC服务器与Web服务器进行通信以请求页面,
并在收到页面后将页面发送给浏览器,
以掩盖其来源, 以使页面看起来与Selenium-Core来自同一服务器
(这使Selenium-Core可以遵从使用同源策略).</li><li>浏览器接收网页并将其呈现在为其保留的框架/窗口中.</li></ol><h3 id=特权浏览器>特权浏览器</h3><p>此方法中的此工作流程与代理注入非常相似,
但主要区别在于浏览器以一种称为 <em>增强特权</em> 的特殊模式启动,
该模式允许网站执行通常不允许的操作
(例如XSS_或填充文件上传输入)和对Selenium非常有用的东西).
通过使用这些浏览器模式,
Selenium Core能够直接打开AUT并与其内容进行读取/交互,
而不必将整个AUT传递给Selenium RC服务器.</p><p>以下是架构图.</p><p><img src=/images/documentation/legacy/selenium_rc_architecture_diagram_2.png alt="架构图 1"></p><p>当测试套件以您喜欢的语言开始时,
会发生以下情况:</p><ol><li>客户端/驱动程序与Selenium-RC服务器建立连接.</li><li>Selenium RC服务器启动一个带有URL的浏览器(或重用旧的浏览器),
该URL将在网页中加载Selenium-Core.</li><li>Selenium-Core从客户端/驱动程序获取第一条指令
(通过向Selenium RC服务器发出的另一个HTTP请求).</li><li>Selenium-Core对该第一条指令起作用,
通常会打开AUT的页面.</li><li>浏览器收到打开请求,
并向Web服务器询问该页面.
浏览器收到网页后, 将其呈现在为其保留的框架/窗口中.</li></ol><h2 id=处理https和安全弹出窗口>处理HTTPS和安全弹出窗口</h2><p>当许多应用程序需要发送加密的信息(例如密码或信用卡信息)时,
它们从使用HTTP切换到HTTPS.
这在当今的许多网络应用程序中很常见.
Selenium RC支持这一点.</p><p>为了确保HTTPS站点是真实的, 浏览器将需要安全证书.
否则, 当浏览器使用HTTPS访问AUT时,
将假定该应用程序不被"信任".
发生这种情况时, 浏览器将显示安全弹出窗口,
并且无法使用Selenium RC关闭这些弹出窗口</p><p>在Selenium RC测试中处理HTTPS时,
必须使用支持该模式并为您处理安全证书的运行模式.
您在测试程序初始化Selenium时指定运行模式.</p><p>在Selenium RC 1.0 beta 2和更高版本中,
将*firefox或*iexplore用于运行模式.
在早期版本中, 包括Selenium RC 1.0 beta 1,
在运行模式中使用*chrome或*iehta.
使用这些运行模式, 您将不需要安装任何特殊的安全证书.
Selenium RC会为您处理.</p><p>在1.0版中, 建议使用运行模式*firefox或*iexplore.
但是, 还有*iexploreproxy和*firefoxproxy的其他运行模式.
提供这些仅是为了向后兼容,
除非传统测试程序要求, 否则不应使用它们.
如果您的应用程序打开其他浏览器窗口,
则它们的使用将对安全证书处理和多个窗口的运行产生限制.</p><p>在早期版本的Selenium RC中,
*chrome或*iehta是支持HTTPS和安全弹出窗口处理的运行模式.
尽管它们变得相当稳定并且许多人使用了它们,
但这些被认为是"实验模式".
如果使用的是Selenium 1.0,
则不需要, 也不应使用这些较早的运行模式.</p><h3 id=安全证书说明>安全证书说明</h3><p>通常, 浏览器将通过安装您已经拥有的安全证书来信任您正在测试的应用程序.
您可以在浏览器的选项或Internet属性中进行检查
(如果您不知道AUT的安全证书, 请咨询系统管理员).
当Selenium加载浏览器时,
它将注入代码以拦截浏览器和服务器之间的消息.
浏览器现在认为不受信任的软件正试图看起来像您的应用程序.
它通过弹出消息提醒您.</p><p>为解决此问题, Selenium RC(再次使用支持此功能的运行模式时)
将在浏览器可以访问它的位置临时将其自己的安全证书安装到客户端计算机上.
这会欺骗浏览器以使其正在访问的网站与您的AUT不同,
从而有效地抑制了弹出窗口.</p><p>Selenium早期版本使用的另一种方法是安装Selenium安装随附的Cybervillians安全证书.
但是, 大多数用户不再需要这样做.
如果您以代理注入模式运行Selenium RC,
则可能需要显式安装此安全证书.</p><h2 id=支持其他浏览器和浏览器配置>支持其他浏览器和浏览器配置</h2><p>除了Internet Explorer和Mozilla Firefox外,
Selenium API还支持在多种浏览器上运行.
请访问https://selenium.dev网站以获取受支持的浏览器.
另外, 当不直接支持浏览器时,
您仍然可以在测试应用程序启动时通过使用
&ldquo;*custom"运行模式(即代替*firefox或*iexplore)
对所选浏览器运行Selenium测试.
这样, 您可以将路径传递到API调用内的浏览器可执行文件.
也可以从服务器以交互方式完成此操作.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   <span style=color:#000>cmd</span><span style=color:#ce5c00;font-weight:700>=</span>getNewBrowserSession<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>=</span>*custom c:<span style=color:#4e9a06>\P</span>rogram Files<span style=color:#4e9a06>\M</span>ozilla Firefox<span style=color:#4e9a06>\M</span>yBrowser.exe<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>2</span><span style=color:#ce5c00;font-weight:700>=</span>http://www.google.com
</span></span></code></pre></div><h3 id=使用不同的浏览器配置运行测试>使用不同的浏览器配置运行测试</h3><p>通常, Selenium RC自动配置浏览器,
但是如果您使用&rdquo;*custom"运行模式启动浏览器,
则可以强制Selenium RC照原样启动浏览器,
而无需使用自动配置.</p><p>例如, 您可以使用这样的自定义配置启动Firefox:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   <span style=color:#000>cmd</span><span style=color:#ce5c00;font-weight:700>=</span>getNewBrowserSession<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>=</span>*custom c:<span style=color:#4e9a06>\P</span>rogram Files<span style=color:#4e9a06>\M</span>ozilla Firefox<span style=color:#4e9a06>\f</span>irefox.exe<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>2</span><span style=color:#ce5c00;font-weight:700>=</span>http://www.google.com
</span></span></code></pre></div><p>请注意, 以这种方式启动浏览器时,
必须手动配置浏览器以将Selenium服务器用作代理.
通常, 这仅意味着打开浏览器首选项并将"localhost:4444"指定为HTTP代理,
但是不同浏览器的说明可能会有根本不同.
有关详细信息, 请查阅浏览器的文档.</p><p>请注意, Mozilla浏览器的启动和停止方式可能会有所不同.
可能需要设置MOZ_NO_REMOTE环境变量,
以使Mozilla浏览器的行为更加可预测.
Unix用户应避免使用Shell脚本启动浏览器.
通常最好直接使用二进制可执行文件(例如firefox-bin).</p><h2 id=解决常见问题>解决常见问题</h2><p>在开始使用Selenium RC时,
通常会遇到一些潜在的问题.
我们在这里介绍它们及其解决方案.</p><h3 id=无法连接到服务器>无法连接到服务器</h3><p>当您的测试程序无法连接到Selenium 服务器时,
Selenium会在您的测试程序中引发异常.
它应该显示此消息或类似的消息:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    <span style=color:#4e9a06>&#34;Unable to connect to remote server (Inner Exception Message: 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>	No connection could be made because the target machine actively 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>	refused it )&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>(</span>using .NET and XP Service Pack 2<span style=color:#ce5c00;font-weight:700>)</span> 
</span></span></code></pre></div><p>如果看到这样的消息, 请确保已启动Selenium服务器.
如果是这样, 则Selenium客户端库和Selenium服务器之间的连接存在问题.</p><p>从Selenium RC开始时,
大多数人开始是在同一台计算机上运行测试程序(带有Selenium客户端库)
和Selenium服务器.
为此, 请使用"localhost"作为连接参数.
我们建议您以这种方式开始,
因为它可以减少您入门时可能出现的网络问题的影响.
假设您的操作系统具有典型的网络和TCP/IP设置,
那么您应该没有什么困难.
实际上, 许多人选择以这种方式运行测试.</p><p>但是, 如果您确实想在远程计算机上运行Selenium服务器,
则假设两台计算机之间具有有效的TCP/IP连接,
则连接应该很好.</p><p>如果连接困难, 可以使用常用的网络工具,
例如<em>ping</em>,
<em>telnet</em>, <em>ifconfig(Unix)/ipconfig</em> (Windows) 等,
以确保您具有有效的网络连接.
如果不熟悉这些, 则系统管理员可以为您提供帮助.</p><h3 id=无法加载浏览器>无法加载浏览器</h3><p>好的, 这并非友好的错误消息,
很抱歉, 但是如果Selenium服务器无法加载浏览器,
您可能会看到此错误.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>(</span>500<span style=color:#ce5c00;font-weight:700>)</span> Internal Server Error
</span></span></code></pre></div><p>这可能是由于</p><ul><li>Firefox(Selenium 1.0之前的版本)无法启动,
因为浏览器已经打开,
并且您未指定单独的配置文件.
请参阅"服务器选项"下有关Firefox配置文件的部分</li><li>您使用的运行模式与您计算机上的任何浏览器都不匹配.
程序打开浏览器时检查您传递给Selenium的参数.</li><li>您已明确指定浏览器的路径(使用"*custom" –参见上文),
但该路径不正确. 检查以确保路径正确.
还要检查用户组, 以确保浏览器和"*custom"参数没有已知问题.</li></ul><h3 id=selenium-找不到aut>Selenium 找不到AUT</h3><p>如果您的测试程序成功启动了浏览器,
但是浏览器未显示您正在测试的网站,
则最可能的原因是您的测试程序未使用正确的URL.</p><p>这很容易发生.
当您使用Selenium-IDE导出脚本时,
它会插入一个虚拟URL.
您必须手动将URL更改为正确的URL才能测试您的应用程序.</p><h3 id=firefox在准备配置文件时拒绝关闭>Firefox在准备配置文件时拒绝关闭</h3><p>最常见的情况是在Firefox上运行Selenium RC测试程序,
但是已经运行了Firefox浏览器会话,
并且在启动Selenium服务器时未指定单独的配置文件.
测试程序中的错误如下所示:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    Error:  java.lang.RuntimeException: Firefox refused shutdown <span style=color:#204a87;font-weight:700>while</span> 
</span></span><span style=display:flex><span>    preparing a profile 
</span></span></code></pre></div><p>以下是来自服务器的完整错误消息:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    16:20:03.919 INFO - Preparing Firefox profile... 
</span></span><span style=display:flex><span>    16:20:27.822 WARN - GET /selenium-server/driver/?cmd<span style=color:#ce5c00;font-weight:700>=</span>getNewBrowserSession<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>=</span>*fir 
</span></span><span style=display:flex><span>    efox<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>2</span><span style=color:#ce5c00;font-weight:700>=</span>http%3a%2f%2fsage-webapp1.qa.idc.com HTTP/1.1 
</span></span><span style=display:flex><span>    java.lang.RuntimeException: Firefox refused shutdown <span style=color:#204a87;font-weight:700>while</span> preparing a profile 
</span></span><span style=display:flex><span>            at org.openqa.selenium.server.browserlaunchers.FirefoxCustomProfileLaunc 
</span></span><span style=display:flex><span>    her.waitForFullProfileToBeCreated<span style=color:#ce5c00;font-weight:700>(</span>FirefoxCustomProfileLauncher.java:277<span style=color:#ce5c00;font-weight:700>)</span> 
</span></span><span style=display:flex><span>    ... 
</span></span><span style=display:flex><span>    Caused by: org.openqa.selenium.server.browserlaunchers.FirefoxCustomProfileLaunc 
</span></span><span style=display:flex><span>    her<span style=color:#000>$FileLockRemainedException</span>: Lock file still present! C:<span style=color:#4e9a06>\D</span>OCUME~1<span style=color:#4e9a06>\j</span>svec<span style=color:#4e9a06>\L</span>OCALS 
</span></span><span style=display:flex><span>    ~1<span style=color:#4e9a06>\T</span>emp<span style=color:#4e9a06>\c</span>ustomProfileDir203138<span style=color:#4e9a06>\p</span>arent.lock 
</span></span></code></pre></div><p>要解决此问题,
请参阅"指定单独的Firefox配置文件"部分</p><h3 id=版本问题>版本问题</h3><p>确保您的Selenium版本支持您的浏览器版本.
例如, Selenium RC 0.92不支持Firefox3.
有时您可能很幸运(例如我).
但不要忘记检查您使用的Selenium版本支持哪些浏览器版本.
如有疑问, 请使用最新版本的Selenium和浏览器使用最广泛的版本.</p><h3 id=启动服务器时出现错误消息-不支持的majorminor版本490>启动服务器时出现错误消息: &ldquo;(不支持的major.minor版本49.0)&rdquo;</h3><p>此错误表明您使用的Java版本不正确.
Selenium服务器需要Java 1.5或更高版本.</p><p>要检查您的Java版本, 请从命令行运行.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   java -version
</span></span></code></pre></div><p>您应该看到一条消息, 显示Java版本.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   java version <span style=color:#4e9a06>&#34;1.5.0_07&#34;</span>
</span></span><span style=display:flex><span>   Java<span style=color:#ce5c00;font-weight:700>(</span>TM<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#0000cf;font-weight:700>2</span> Runtime Environment, Standard Edition <span style=color:#ce5c00;font-weight:700>(</span>build 1.5.0_07-b03<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>   Java HotSpot<span style=color:#ce5c00;font-weight:700>(</span>TM<span style=color:#ce5c00;font-weight:700>)</span> Client VM <span style=color:#ce5c00;font-weight:700>(</span>build 1.5.0_07-b03, mixed mode<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><p>如果看到较低的版本号, 则可能需要更新JRE,
或者只需将其添加到PATH环境变量中即可.</p><h3 id=404-error-when-running-the-getnewbrowsersession-command>404 error when running the getNewBrowserSession command</h3><p>如果尝试打开" <a href=http://www.google.com/selenium-server/%22>http://www.google.com/selenium-server/"</a>上的页面时遇到404错误,
则一定是因为Selenium服务器未正确配置为代理.
Selenium-server"目录在google.com上不存在；
仅当正确配置了代理后, 该目录才存在.
代理配置在很大程度上取决于如何使用firefox,
iexplore, opera或custom启动浏览器.</p><ul><li><p>iexplore：如果使用*iexplore启动浏览器,
则可能是Internet Explorer的代理设置有问题.
Selenium服务器尝试在Internet选项控制面板中配置全局代理设置.
您必须确保在Selenium服务器启动浏览器时正确配置了这些配置.
尝试查看" Internet选项"控制面板.
单击"连接"选项卡, 然后单击"局域网设置".</p><ul><li>如果您需要使用代理来访问要测试的应用程序,
则需要使用" -Dhttp.proxyHost"启动Selenium服务器.
有关更多详细信息, 请参见 <code>代理配置</code> .</li><li>您也可以尝试手动配置代理, 然后使用*custom或*iehta浏览器启动器启动浏览器.</li></ul></li><li><p>custom: 使用*custom时, 必须正确(手动)配置代理,
否则会出现404错误.
仔细检查您是否正确配置了代理设置.
要检查您是否正确配置了代理,
则是试图故意不正确地配置浏览器.
尝试将浏览器配置为使用错误的代理服务器主机名或错误的端口.
如果您错误地成功配置了浏览器的代理设置,
则浏览器将无法连接到Internet,
这是一种确保正在调整相关设置的方法.</p></li><li><p>对于其他浏览器(*firefox, *opera),
我们会自动为您硬编码代理,
因此此功能没有已知问题.
如果您遇到404错误,
并已按照本用户指南进行操作,
请仔细将结果发布到用户组,
以获取用户社区的帮助.</p></li></ul><h3 id=权限被拒绝错误>权限被拒绝错误</h3><p>发生此错误的最常见原因是您的会话试图跨域
(例如, 从http://domain1访问页面,
然后从http://domain2访问页面)来违反同源策略.
协议(从http://domainX移至https://domainX).</p><p>当JavaScript尝试查找尚不可用
(在页面完全加载之前)或不再可用
(在页面开始卸载之后)的UI对象时,
也会发生此错误.
最常见的情况是AJAX页面正在处理页面的某些部分
或独立于较大页面而加载和/或重新加载的子frame.</p><p>该错误可能是间歇性的.
通常, 用调试器不可能重现该问题,
因为问题是由于竞争条件引起的,
当将调试器的开销添加到系统中时,
这些竞争条件是无法再现的.
许可问题在本教程中进行了详细介绍.
仔细阅读有关<code>同源策略</code>, <code>代理注入</code>的部分.</p><h3 id=处理浏览器弹出窗口>处理浏览器弹出窗口</h3><p>在Selenium测试中可以得到几种"弹出窗口".
如果Selenium命令是由浏览器而不是AUT发起的,
则可能无法通过运行Selenium命令来关闭这些弹出窗口.
您可能需要知道如何进行管理.
每种类型的弹出窗口都需要以不同的方式处理.</p><ul><li><p>HTTP基本身份验证对话框：
这些对话框提示输入用户名/密码登录到站点.
要登录到需要HTTP基本身份验证的站点,
请使用 <code>RFC 1738</code>中所述的URL中的用户名和密码,
如下所示：open
(" http//myusername:myuserpassword@myexample.com/blah/blah/blah").</p></li><li><p>SSL证书警告：
当Selenium RC启用为代理时,
它会自动尝试欺骗SSL证书.
请参阅HTTPS部分中的更多内容.
如果您的浏览器配置正确, 您将永远不会看到SSL证书警告,
但是您可能需要将浏览器配置为信任我们危险的"CyberVillains" SSL证书颁发机构.
再次, 请参阅HTTPS部分以了解如何执行此操作.</p></li><li><p>模态JavaScript警报/确认/提示对话框：
Selenium试图向您隐藏这些对话框
(通过替换window.alert, window.confirm和window.prompt),
以便它们不会停止您页面的执行.
如果您看到警告弹出窗口,
可能是因为它是在页面加载过程中触发的,
对于我们而言, 保护该页面通常为时过早.
Selenese包含用于断言或验证警报和确认弹出窗口的命令.
请参阅第4章中有关这些主题的部分.</p></li></ul><h3 id=在linux上-为什么我的firefox浏览器会话没有关闭>在Linux上, 为什么我的Firefox浏览器会话没有关闭?</h3><p>在Unix/Linux上, 您必须直接调用"firefox-bin",
因此请确保路径中包含可执行文件.
如果通过外壳程序脚本执行Firefox, 则该终止浏览器了.
SeleniumRC将终止该外壳程序脚本,
使浏览器保持运行状态.
您可以像这样直接指定firefox-bin的路径.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   <span style=color:#000>cmd</span><span style=color:#ce5c00;font-weight:700>=</span>getNewBrowserSession<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>=</span>*firefox /usr/local/firefox/firefox-bin<span style=color:#000;font-weight:700>&amp;</span><span style=color:#000>2</span><span style=color:#ce5c00;font-weight:700>=</span>http://www.google.com
</span></span></code></pre></div><h3 id=firefox-chrome不适用于自定义配置文件>Firefox *chrome不适用于自定义配置文件</h3><p>检查Firefox配置文件文件夹
-> prefs.js-> &ldquo;//user_pref(&ldquo;browser.startup.page&rdquo;, 0);&rdquo;
像这样注释此行："//user_pref(&ldquo;browser.startup.page&rdquo;, 0);"
然后再试一次.</p><h3 id=是否可以在加载父页面时加载自定义弹出窗口即-在父页面的javascript-windowonload函数运行之前>是否可以在加载父页面时加载自定义弹出窗口(即, 在父页面的javascript window.onload()函数运行之前)</h3><p>否. Selenium依靠拦截器来确定正在加载的窗口名称.
如果在onload()函数之后加载窗口,
则这些拦截器最适合捕获新窗口.
Selenium可能无法识别在onload功能之前加载的Windows.</p><h3 id=linux上的firefox>Linux上的Firefox</h3><p>在Unix/Linux上, Selenium 1.0之前的版本需要直接调用"firefox-bin",
因此, 如果您使用的是以前的版本,
请确保路径中包含真正的可执行文件.</p><p>在大多数Linux发行版中, 真正的 <em>firefox-bin</em> 位于:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   /usr/lib/firefox-x.x.x/ 
</span></span></code></pre></div><p>其中x.x.x是您当前拥有的版本号.
因此, 要将该路径添加到用户的路径.
您将必须将以下内容添加到您的.bashrc文件中:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   <span style=color:#204a87>export</span> <span style=color:#000>PATH</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#000>$PATH</span><span style=color:#4e9a06>:/usr/lib/firefox-x.x.x/&#34;</span>
</span></span></code></pre></div><p>如有必要, 您可以在测试中直接指定firefox-bin的路径, 如下所示:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   <span style=color:#4e9a06>&#34;*firefox /usr/lib/firefox-x.x.x/firefox-bin&#34;</span>
</span></span></code></pre></div><h3 id=ie和样式属性>IE和样式属性</h3><p>如果您在Internet Explorer上运行测试,
则无法使用其 <code>style</code> 属性来查找元素. 例如:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    //td<span style=color:#ce5c00;font-weight:700>[</span>@style<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;background-color:yellow&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><p>这将在Firefox, Opera或Safari中完美运行, 但不适用于IE.
IE将 <code>@style</code> 中的键解释为大写.
因此, 即使源代码是小写的, 您也应该使用:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    //td<span style=color:#ce5c00;font-weight:700>[</span>@style<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;BACKGROUND-COLOR:yellow&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><p>如果您的测试打算在多个浏览器上运行,
那么这将是一个问题,
但是您可以轻松地对测试进行编码以检测情况
并尝试仅在IE中运行的替代定位器.</p><h3 id=遇到错误-随着googlechrome浏览器的关闭-无法将对象转换为原始值>遇到错误-随着*googlechrome浏览器的关闭, &ldquo;无法将对象转换为原始值&rdquo;</h3><p>为避免此错误, 您必须使用禁用
同源策略检查的选项启动浏览器:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   selenium.start<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;commandLineFlags=--disable-web-security&#34;</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><h3 id=ie中遇到的错误-无法打开应用程序窗口弹出窗口阻止程序已启用>IE中遇到的错误-&ldquo;无法打开应用程序窗口；弹出窗口阻止程序已启用？&rdquo;</h3><p>为避免此错误, 您必须配置浏览器：
禁用弹出窗口阻止程序,
并取消选中工具&#187;选项&#187;安全中的"启用保护模式"选项.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>代理人是中间的第三人, 两人之间传球. 它充当将AUT传送到浏览器的"网络服务器". 作为代理, Selenium服务器可以"说谎"AUT的真实URL.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>启动浏览器时使用的配置文件将localhost:4444设置为HTTP代理, 这就是为什么浏览器执行的任何HTTP请求都将通过Selenium服务器并且响应将通过它而不是真实服务器通过的原因.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class=td-content style=page-break-before:always><h1 id=pg-0732b4f345393ba2bef87c26733d9d8b>2 - Selenium 2</h1><div class=lead>Selenium 2 是以实现了WebDriver代码重写的Selenium 1.</div></div><div class=td-content><h1 id=pg-23e90ee960cb2d855aefe8e77f95e70b>2.1 - 从RC迁移到WebDriver</h1><h2 id=如何迁移到selenium-webdriver>如何迁移到Selenium WebDriver</h2><p>在采用Selenium 2时, 一个常见的问题是,
在将新测试添加到现有测试集中时,
正确的做法是什么?
刚接触框架的用户可以通过使用新的WebDriver API编写测试开始.
但是, 已经拥有一套现有测试的用户又该如何呢?
本指南旨在演示如何将现有测试迁移到新的API,
从而允许使用WebDriver提供的新功能编写所有新测试.</p><p>此处介绍的方法描述了向WebDriver API的零星迁移,
而无需一次大刀阔斧地重新进行所有工作.
这意味着您可以留出更多时间来迁移现有测试,
这可以使您更轻松地决定将精力花在哪里.</p><p>本指南使用Java编写, 因为它为迁移提供了最佳支持.
由于我们为其他语言提供了更好的工具,
因此本指南将扩展为包括这些语言.</p><h2 id=为什么要迁移到webdriver>为什么要迁移到WebDriver</h2><p>将一组测试从一个API移到另一个API需要大量的工作.
为什么您和您的团队考虑采取此举?
这是您应考虑迁移Selenium测试以使用WebDriver的一些原因.</p><ul><li>较小, 紧凑的API.
WebDriver的API比原始的Selenium RC API更面向对象.
这样可以更轻松地使用.</li><li>更好地模拟用户交互.
WebDriver在可能的情况下利用本机事件与网页进行交互.
这更紧密地模仿了您的用户使用您的网站和应用程序的方式.
此外, WebDriver提供了高级的用户交互API,
使您可以为与网站的复杂交互建模.</li><li>浏览器供应商的支持.
Opera, Mozilla和Google都是WebDriver开发的积极参与者,
并且各自都有工程师致力于改善框架.
通常, 这意味着对WebDriver的支持已包含在浏览器本身中：
您的测试运行得尽可能快且稳定.</li></ul><h2 id=在开始之前>在开始之前</h2><p>为了使迁移过程尽可能轻松,
请确保所有测试都在最新的Selenium版本中正常运行.
这听起来似乎显而易见, 但是最好说一下!</p><h2 id=开始上手>开始上手</h2><p>开始迁移的第一步是更改获取Selenium实例的方式.
使用Selenium RC时, 就像这样:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.yoursite.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>应该这样替换:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxDriver</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverBackedSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.yoursite.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h2 id=下一步>下一步</h2><p>一旦测试成功执行, 下一步就是迁移实际的测试代码以使用WebDriver API.
根据代码的抽象程度,
这可能是一个短暂的过程, 也可能是一个漫长的过程.
在这两种情况下, 方法都是相同的,
可以简单地总结一下：修改代码以在使用新API时进行编辑.</p><p>如果您需要从Selenium实例中提取基础WebDriver实现,
则只需将其强制转换为WrapsDriver:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>WrapsDriver</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>getWrappedDriver</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>这使您可以继续正常传递Selenium实例,
但可以根据需要解包WebDriver实例.</p><p>有时, 您的代码库将主要使用较新的API.
此时, 您可以翻转关系,
使用WebDriver并按需实例化Selenium实例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverBackedSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>baseUrl</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h2 id=常见问题>常见问题</h2><p>幸运的是, 您不是第一个进行此迁移的人,
因此这里有其他人已经看到的一些常见问题以及如何解决它们.</p><h3 id=单击和键入更加完整>单击和键入更加完整</h3><p>Selenium RC测试中的常见模式如下所示:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;exciting tex&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyDown</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyPress</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyUp</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>这依赖于以下事实：
&ldquo;类型"仅替换所标识元素的内容,
而不触发用户与页面进行交互时通常会触发的所有事件.
最后的"key*&ldquo;直接调用导致JS处理程序按预期方式触发.</p><p>使用WebDriverBackedSelenium时,
填写表单字段的结果将是"exciting texttt&rdquo;：
并非您所期望的!
这样做的原因是WebDriver更准确地模拟了用户行为,
因此一直会触发事件.</p><p>相同的事实有时可能会导致页面加载比Selenium 1测试中更早触发.
如果WebDriver抛出"StaleElementException&rdquo;,
您可以说这已经发生.</p><h3 id=waitforpagetoload很快返回>WaitForPageToLoad很快返回</h3><p>发现何时完成页面加载是一项艰巨的任务.
我们的意思是"何时触发加载事件",
&ldquo;何时完成所有AJAX请求&rdquo;,
&ldquo;何时没有网络流量&rdquo;,
&ldquo;何时document.readyState发生更改&rdquo;
或其他所有内容?</p><p>WebDriver试图模拟原始的Selenium行为,
但是由于种种原因, 这种方法并不总是能完美发挥作用.
最常见的原因是, 很难区分在尚未开始的页面加载与在方法调用之间完成的页面加载之间的区别.
有时这意味着在页面完成（甚至开始!）加载之前, 控件已返回测试.</p><p>解决方案是等待特定的东西.
通常, 这可能是您想与之交互的元素,
或者是将某些Javascript变量设置为特定值.
一个例子是:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Wait</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>wait</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverWait</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Duration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ofSeconds</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>WebElement</span> <span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>wait</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>until</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>visibilityOfElementLocated</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;some_id&#34;</span><span style=color:#ce5c00;font-weight:700>)));</span>
</span></span></code></pre></div><p>其中"visibilityOfElementLocated"实现为:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ExpectedCondition</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebElement</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>visibilityOfElementLocated</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>By</span> <span style=color:#000>locator</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ExpectedCondition</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebElement</span><span style=color:#ce5c00;font-weight:700>&gt;()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebElement</span> <span style=color:#000>apply</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>WebElement</span> <span style=color:#000>toReturn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>locator</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>toReturn</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isDisplayed</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>toReturn</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>};</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>这看起来很复杂, 但这几乎是所有样板代码.
唯一有趣的一点是, 将反复评估"ExpectedCondition",
直到"apply"方法返回的结果既不是"null"
也不是Boolean.FALSE.</p><p>当然, 添加所有这些"等待"调用可能会使您的代码混乱.
如果是这样, 并且您的需求很简单, 请考虑使用隐式等待:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>manage</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>timeouts</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>implicitlyWait</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>TimeUnit</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SECONDS</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>这样, 每次定位某个元素时（如果不存在该元素）,
都会重试该位置, 直到该元素存在或经过30秒为止.</p><h3 id=通过xpath或css选择器查找并不总是可行-但在selenium-1中却可以>通过XPath或CSS选择器查找并不总是可行, 但在Selenium 1中却可以</h3><p>在Selenium 1中, xpath通常使用捆绑的库而不是浏览器本身的功能.
除非没有其他选择, 否则WebDriver将始终使用本机浏览器方法.
这意味着复杂的xpath表达式可能会在某些浏览器上中断.</p><p>Selenium 1中的CSS选择器是使用Sizzle库实现的.
这实现了CSS Selector规范的超集,
而且并不总是清楚您越界的位置.
如果您使用的是WebDriverBackedSelenium,
并且使用Sizzle定位器而不是CSS选择器来查找元素,
则会在控制台上记录一条警告.
值得花时间去寻找这些东西,
尤其是如果由于找不到元素而导致测试失败时.</p><h3 id=没有browserbot>没有Browserbot</h3><p>Selenium RC是基于Selenium Core的,
因此, 当您执行Javascript时,
可以访问Selenium Core的某些部分以使事情变得容易.
由于WebDriver不基于Selenium Core, 因此不再可能.
如何判断您是否正在使用Selenium Core?简单!
只要看看您的"getEval"或类似调用是否在评估的Javascript中使用"Selenium"或"browserbot".</p><p>您可能正在使用browserbot获取测试的当前窗口或文档的句柄.
幸运的是, WebDriver总是在当前窗口的上下文中评估JS,
因此您可以直接使用"window"或"document".</p><p>另外, 您可能正在使用browserbot查找元素.
在WebDriver中, 这样做的习惯是首先找到该元素,
然后将其作为参数传递给Javascript.
从而:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>String</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;selenium.browserbot.findElement(&#39;id=foo&#39;, browserbot.getCurrentWindow()).tagName&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>变成:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebElement</span> <span style=color:#000>element</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>String</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>JavascriptExecutor</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>executeScript</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;return arguments[0].tagName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>请注意, 传入的"element"变量如何显示为JS标准"arguments"数组中的第一项.</p><h3 id=执行javascript不会返回任何内容>执行JavaScript不会返回任何内容</h3><p>WebDriver的JavascriptExecutor将包装所有JS并将其评估为匿名表达式.
这意味着您需要使用"return"关键字:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>String</span> <span style=color:#000>title</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserbot.getCurrentWindow().document.title&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>变成:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>JavascriptExecutor</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>executeScript</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;return document.title;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-4385b6f362b0596ebcd161689f59adf4>2.2 - 远程WebDriver服务器</h1><p>服务器将始终在安装了待测浏览器的机器上运行.
可以从命令行或通过代码配置来使用服务器.</p><h2 id=从命令行启动服务器>从命令行启动服务器</h2><p>下载 <code>selenium-server-standalone-{VERSION}.jar</code> 后,
将其传到具有待测浏览器的电脑上.
然后, 切换到包含此jar文件的目录中, 运行以下命令:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone-<span style=color:#ce5c00;font-weight:700>{</span>VERSION<span style=color:#ce5c00;font-weight:700>}</span>.jar
</span></span></code></pre></div><h2 id=运行服务器的注意事项>运行服务器的注意事项</h2><p>调用者应调用 <code>Selenium#stop()</code> 或 <code>WebDriver#quit</code> 以结束每次会话.</p><p>Selenium服务器在内存中保留每个运行会话的日志,
这些日志将在调用 <code>Selenium#stop()</code> 或 <code>WebDriver#quit</code> 时清除.
如果您忘记终止这些会话, 则可能会造成服务器内存泄漏.
如果您保持运行时间非常长的会话,
则可能需要不时执行停止或退出的操作 (或使用-Xmx jvm选项增加内存) .</p><h2 id=超时-自221版本>超时 (自2.21版本)</h2><p>服务器有两种不同的超时, 可以按如下设置:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone-<span style=color:#ce5c00;font-weight:700>{</span>VERSION<span style=color:#ce5c00;font-weight:700>}</span>.jar -timeout<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>20</span> -browserTimeout<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>60</span>
</span></span></code></pre></div><ul><li>browserTimeout<ul><li>控制允许浏览器挂起的时间
(以秒为单位的值) .</li></ul></li><li>timeout<ul><li>控制在回收会话之前允许客户端离开的时间
(以秒为单位的值) .</li></ul></li></ul><p>从2.21版本开始不再支持系统属性
<code>selenium.server.session.timeout</code>.</p><p>请注意, 当常规超时机制发生故障时,
<code>browserTimeout</code>旨在用作备份超时机制,
该机制应主要在网格和服务器的环境中使用,
以确保崩溃或丢失的进程不会驻留太长时间,
从而干扰了运行时环境.</p><h2 id=以编程方式配置服务器>以编程方式配置服务器</h2><p>从理论上讲, 此过程就像将 <code>DriverServlet</code>映射到URL一样简单,
但是也可以将页面托管在轻量级容器中,
例如完全用代码配置的Jetty.
步骤如下.</p><ul><li>下载并解压 <code>selenium-server.zip</code>.</li><li>将这些Jar设置在CLASSPATH中.</li><li>创建一个名为 <code>AppServer</code>的新类.
在这里, 我使用Jetty,
因此您也需要<a href=//www.eclipse.org/jetty/download.html>download</a>:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.mortbay.jetty.Connector</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.mortbay.jetty.Server</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.mortbay.jetty.nio.SelectChannelConnector</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.mortbay.jetty.security.SslSocketConnector</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.mortbay.jetty.webapp.WebAppContext</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.servlet.Servlet</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.io.File</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.openqa.selenium.remote.server.DriverServlet</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AppServer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Server</span> <span style=color:#000>server</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Server</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>AppServer</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>WebAppContext</span> <span style=color:#000>context</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebAppContext</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setContextPath</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setWar</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>File</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;.&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addServlet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DriverServlet</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;/wd/*&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>SelectChannelConnector</span> <span style=color:#000>connector</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SelectChannelConnector</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPort</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3001</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-e279bf25ef6f679a74567eae8d28a0d2>3 - Selenium 3</h1><div class=lead>Selenium 3是摒除了Selenium RC代码的WebDriver实现. 其已被实现了W3C WebDriver规范的Selenium 4所替代.</div></div><div class=td-content><h1 id=pg-ac76bae276f27fd0f1424e73b7d95663>3.1 - 服务网格 3</h1><div class=lead>Selenium Grid 3 supported WebDriver without Selenium RC code. Grid 3 was completely rewritten for the new Grid 4.</div><p><a href=/zh-cn/documentation/grid/>服务网格 4</a></p><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language d-4"></i>
Most of the documentation found in this section is still in English.
Please note we are not accepting pull requests to translate this content
as translating documentation of legacy components does not add value to
the community nor the project.</p></div><p><em>Selenium服务网格</em> 是一个能够让Selenium的测试把命令传送到一个远程浏览器实例的职能代理服务器。
他的目的是提供一个简便的方法来在多台终端上并行的执行测试任务。</p><p>在Selenium服务网格,
一台服务器作为转发器(hub)将JSON格式的测试命令转发到1台或多台注册的节点。
测试任务通过跟转发器(hub)的交互来操作远端浏览器实例。
转发器(hub)维护了一个可供使用的注册服务器列表，也允许我们通过转发器(hub)来控制这些实例。</p><p>Selenium服务网格允许我们在多台节点服务器上并行执行测试，
同时也中心化的管理多个浏览器版本，多种浏览器的配置。（以替代传统的基于个人的测试）</p><p>Selenium服务网格并不是万能的(silver bullet)。
它能够解决一些通用的代理问题和分布式的问题，但是并不能管理你的硬件，也可能不适合你的一些特殊需求。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-31b83379d2b863eb0549de7e457f5733>3.2 - 配置自己的服务网格</h1><div class=lead>Quick start guide for setting up Grid 3.</div><p>使用Selenium网格，
你需要维护你自己的基础设置来作为节点使用，
这将是一个繁重的紧张的工作，很多组织使用IaaS供应商比如Amazon EC2或者Google来提供这些基础设施。</p><p>使用Sauce Labs或者Testing Bot这类提供了Selenium网格作为云服务的供应商也是一个选择。
当然，在你自己的硬件群运行节点也是可行的。
这一章会深入探讨如何用你自己的基础设施来运行你的服务网格，</p><h2 id=快速开始>快速开始</h2><p>这个例子会向你展示如何开始Selenium 2服务网格的转发器(hub),
然后注册WebDriver节点和Selenium 1 RC节点。
我们也会向你展示如何使用Java来使用Selenium服务网格。
这个例子里转发器和节点被运行在了同一台终端机上，当然你也可以服务selenium-server-standalone到
多台终端机。</p><p><code>selenium-server-standalone</code> 包含了运行网格所需要的转发器(hub),WebDriver和legacy RC needed, _ant_已经不是必须的了.
你可以在<a href=https://selenium.dev/downloads/>https://selenium.dev/downloads/</a>.下载
<code>selenium-server-standalone.jar</code></p><h3 id=第一步-启动转发器hub>第一步: 启动转发器(hub)</h3><p>转发器(hub)是接受测试请求并分发到合适的节点的中心点。
分发是基于节点的能力的，这就意味着一个有特定需求的测试仅会被分发到能提供这个需求的节点上。</p><p>因为一个测试所期望的能力，就如字面意思，期望，并不代表转发器(hub)能够找到一个真正满足所有期望的节点。</p><p>打开命令行窗口，来到存放<code>selenium-server-standalone.jar</code>文件的地方。
启动转发器(hub)并传入<code>-role hub</code>作为参数来启动一个独立的服务：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone.jar -role hub
</span></span></code></pre></div><p>转发器(hub)默认会监听4444端口，你也可以通过打开浏览器访问<a href=http://localhost:4444/grid/console>http://localhost:4444/grid/console</a>来查看转发器(hub)的状态。</p><p>如果需要改变默认端口，你可以添加<code>-port</code>加上一个数字作为参数来代表你期望监听的端口，
同时，所有其他的可选参数都可以在下面这个JSON配置文件里找到。</p><p>你已经在上面获得了一个简单命令，当然如果你希望一些更高级的配置，
方便起见，你也可以指定一个JSON格式的配置文件来配置并启动你的转发器(hub)。
你可以这么做：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone.jar -role hub -hubConfig hubConfig.json -debug
</span></span></code></pre></div><p>下面你可以看到一个配置文件<code>hubConfig.json</code>的例子。
我们会在第二步深入探讨怎么来提供节点配置文件。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;_comment&#34;</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Configuration for Hub - hubConfig.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;host&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>ip</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;maxSession&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;port&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;cleanupCycle&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;timeout&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>300000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;newSessionWaitTimeout&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>-1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;servlets&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;prioritizer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;capabilityMatcher&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;org.openqa.grid.internal.utils.DefaultCapabilityMatcher&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;throwOnCapabilityNotPresent&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;nodePolling&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>180000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;platform&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;WINDOWS&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=第二部-启动节点>第二部: 启动节点</h3><p>无论你期望你的服务网格使用新的WebDriver的功能，还是Selenium 1 RC的功能，或者2者皆有。
你都只需要使用<code>selenium-server-standalone.jar</code>来启动节点。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone.jar -role node -hub http://localhost:4444
</span></span></code></pre></div><p>如果不通过<code>-port</code>来指定端口，会选一个可用端口。你也可以在一个终端机上运行多个节点，
但是如果你这么做了，你需要意识到当你的测试使用截屏会引发你的系统内存资源和问题。</p><h4 id=配置节点的可选参数>配置节点的可选参数</h4><p>正如前面提到的，作为一个向下兼容，&ldquo;wd"和”rc”这两个角色都是节点角色的合法的自己。
当节点同时允许RC饿WebDriver的远程链接时，这些角色限制了远程连接使用的API。</p><p>通过在命令行中设置JVM属性(_在-jar参数前_使用<code>-D</code>参数)，会被传递到节点里：
<code>-Dwebdriver.chrome.driver=chromedriver.exe</code></p><h4 id=使用json配置节点>使用JSON配置节点</h4><p>你也可以使用JSON配置文件来启动服务网格节点</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -Dwebdriver.chrome.driver<span style=color:#ce5c00;font-weight:700>=</span>chromedriver.exe -jar selenium-server-standalone.jar -role node -nodeConfig node1Config.json
</span></span></code></pre></div><p>这里是一个配置文件<code>nodeConfig.json</code>的例子:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;capabilities&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;browserName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;firefox&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;acceptSslCerts&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;javascriptEnabled&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;takesScreenshot&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;firefox_profile&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;browser-version&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;27&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;platform&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;WINDOWS&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;maxInstances&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;firefox_binary&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;cleanSession&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;browserName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;chrome&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;maxInstances&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;platform&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;WINDOWS&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;webdriver.chrome.driver&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;browserName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;internet explorer&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;maxInstances&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;platform&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;WINDOWS&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;webdriver.ie.driver&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;C:/Program Files (x86)/Internet Explorer/iexplore.exe&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;configuration&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;_comment&#34;</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Configuration for Node&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;cleanUpCycle&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>2000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;timeout&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;proxy&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;org.openqa.grid.selenium.proxy.WebDriverRemoteProxy&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;port&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5555</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;host&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>ip</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;register&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;hubPort&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>4444</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;maxSession&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>有关于<code>-host</code>参数的注解</p><p>无论是转发器还是节点，如果不指定<code>-host</code>参数，会默认使用<code>0.0.0.0</code>，
这么做会绑定终端机的所有的公共IPv4接口。如果你有一些特殊网络配置或者一些组件创建的网络接口，
建议设置<code>-host</code>参数，来使你的转发器或节点能够被其他终端机访问。</p><h4 id=指定端口>指定端口</h4><p>转发器默认使用TCP/IP端口4444.如果你希望改端口，请用上面提到的配置方法。</p><h2 id=故障排查>故障排查</h2><h3 id=使用日志文件>使用日志文件</h3><p>如果需要进行高级故障排查你可以指定一个日志文件来记录系统信息。
启动Selenium服务网格的转发器(hub)或节点的时候使用-log参数。下面是一个例子：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone.jar -role hub -log log.txt
</span></span></code></pre></div><p>使用你习惯的文本编辑器来打开日志文件(例子里用的log.txt)，查找"ERROR"日志来定位你的问题。</p><h3 id=使用--debug-参数>使用 <code>-debug</code> 参数</h3><p>同时，你也可以通过使用<code>-debug</code>来向控制台打印debug日志。
启动Selenium服务网格的转发器(hub)或节点的时候使用<code>-debug</code>参数。下面是一个例子：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>java -jar selenium-server-standalone.jar -role hub -debug
</span></span></code></pre></div><h2 id=提醒>提醒</h2><p>Selenium服务网格需要使用合适的防火墙许可来隔离外部访问。</p><p>如果不能有效的保护你的服务网格，可能会导致以下问题：</p><ul><li>提供了一个开发的接口来访问服务网格的基础设施</li><li>你将会允许第三方来访问内部web服务和文件</li><li>你将会允许第三方来执行定制的二进制文件</li></ul><p>请参考这篇文章<a href=//labs.detectify.com>Detectify</a>, 这里给了一个很好的概要，
关于暴露一个服务网格后会如何被滥用：<a href=//labs.detectify.com/2017/10/06/guest-blog-dont-leave-your-grid-wide-open/>Don&rsquo;t Leave your Grid Wide Open</a>.</p><h2 id=docker-selenium>Docker Selenium</h2><p><a href=//www.docker.com/>Docker</a>提供了一个方便的途径来在容器中构建一个可扩张的Selenium服务网格基础设置，
容器是软件的标准单元，包含了所有执行应用程序需要的东西，包括所有的依赖，它以一种可靠的，可以复制的方法来在不同的终端机上运行。</p><p>Selenium项目维护了一组Docker镜像，你可以下载并运行来快速的获得一个可用的服务网格。
Firefox和Chrome都提供了可用的镜像。你可以在<a href=//github.com/SeleniumHQ/docker-selenium>Docker Selenium</a> 找到关于如何启动服务网格的详细信息.</p><h3 id=前提>前提</h3><p>创建服务网格的唯一的前提是安装了Docker并能正常运行
<a href=//www.docker.com/products/docker-desktop>Install Docker</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7b2bda126f0ba862a2f42215dac75b96>3.3 - 服务网格的组件</h1><div class=lead>Description of Hub and Nodes for Grid 3.</div><figure class="img-responsive text-center"><img src=/images/documentation/legacy/grid_3/grid.png alt="Grid 3 Components"></figure><h2 id=转发器hub>转发器(hub)</h2><ul><li>中间人和管理者</li><li>接受请求 执行测试任务</li><li>接受客户端的指示并在远程节点上执行任务</li><li>管理进程</li></ul><p><em>转发器(hub)</em> 是一个接受所有所有测试任务的中心节点。
每个Selenium服务网格包含一个转发器(hub)。转发器(hub)需要能被所有的客户机（比如：持续集成服务器，开发机等等）访问到。
转发器(hub)会连接1个或者多个节点，这些节点会代理执行测试任务。</p><h2 id=节点>节点</h2><ul><li>浏览器会被安装在节点上</li><li>节点会把自己注册在转发器(hub)上并申报自己作为测试代理的能力(有些什么浏览器，每个浏览器可以运行几个实例等等)</li><li>接受转发器(hub)的指示并执行这些指示</li></ul><p><em>节点</em> 和不同的Selenium实例，他们能够在特定的计算机系统上执行测试。
一个服务网格中可以有很多节点。
这些终端设备并不需要使用统一的平台(或者说操作系统)也不需要选择相同的浏览器。
一个Windows节点可以提供IE作为一个浏览器选项来执行测试，然而Linux和MAC是不可能提供的。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5131ec21377a8d67404a3f8a494a56d0>4 - Legacy Selenium IDE</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language d-4"></i>
Most of the documentation found in this section is still in English.
Please note we are not accepting pull requests to translate this content
as translating documentation of legacy components does not add value to
the community nor the project.</p></div><h2 id=introduction>Introduction</h2><p>The Selenium-IDE (Integrated Development Environment) is the tool you use to
develop your Selenium test cases. It’s an easy-to-use Firefox plug-in and is
generally the most efficient way to develop test cases. It also contains a
context menu that allows you to first select a UI element from the browser’s
currently displayed page and then select from a list of Selenium commands with
parameters pre-defined according to the context of the selected UI element.
This is not only a time-saver, but also an excellent way of learning Selenium
script syntax.</p><p>This chapter is all about the Selenium IDE and how to use it effectively.</p><h2 id=installing-the-ide>Installing the IDE</h2><p>Using Firefox, first, download the IDE from the SeleniumHQ <a href=https://selenium.dev/downloads>downloads page</a></p><p>Firefox will protect you from installing addons from unfamiliar locations, so
you will need to click ‘Allow’ to proceed with the installation, as shown in
the following screenshot.</p><p><img src=/images/documentation/legacy/selenium_ide_installation_1.png alt="Selenium IDE Installation 1"></p><p>When downloading from Firefox, you’ll be presented with the following window.</p><p><img src=/images/documentation/legacy/selenium_ide_installation_2.png alt="Selenium IDE Installation 2"></p><p>Select Install Now. The Firefox Add-ons window pops up, first showing a progress bar,
and when the download is complete, displays the following.</p><p><img src=/images/documentation/legacy/selenium_ide_installation_3.png alt="Selenium IDE Installation 3"></p><p>Restart Firefox. After Firefox reboots you will find the Selenium-IDE listed under
the Firefox Tools menu.</p><p><img src=/images/documentation/legacy/selenium_ide_installation_4.png alt="Selenium IDE Installation 4"></p><h2 id=opening-the-ide>Opening the IDE</h2><p>To run the Selenium-IDE, simply select it from the Firefox Tools menu. It opens
as follows with an empty script-editing window and a menu for loading, or
creating new test cases.</p><p><img src=/images/documentation/legacy/selenium_ide_open.png alt="Selenium IDE Open"></p><h2 id=ide-features>IDE Features</h2><h3 id=menu-bar>Menu Bar</h3><p>The File menu has options for Test Case and Test Suite (suite of Test Cases).
Using these you can add a new Test Case, open a Test Case, save a Test Case,
export Test Case in a language of your choice. You can also open the recent
Test Case. All these options are also available for Test Suite.</p><p>The Edit menu allows copy, paste, delete, undo, and select all operations for
editing the commands in your test case. The Options menu allows the changing of
settings. You can set the timeout value for certain commands, add user-defined
user extensions to the base set of Selenium commands, and specify the format
(language) used when saving your test cases. The Help menu is the standard
Firefox Help menu; only one item on this menu–UI-Element Documentation–pertains
to Selenium-IDE.</p><h3 id=toolbar>Toolbar</h3><p>The toolbar contains buttons for controlling the execution of your test cases,
including a step feature for debugging your test cases. The right-most button,
the one with the red-dot, is the record button.</p><p><img src=/images/documentation/legacy/selenium_ide_features_1.png alt="Selenium IDE Features">
<img src=/images/documentation/legacy/selenium_ide_features_2.png alt="Selenium IDE Features"></p><p>Speed Control: controls how fast your test case runs.</p><p><img src=/images/documentation/legacy/selenium_ide_features_3.png alt="Selenium IDE Features"></p><p>Run All: Runs the entire test suite when a test suite with multiple test cases is loaded.</p><p><img src=/images/documentation/legacy/selenium_ide_features_4.png alt="Selenium IDE Features"></p><p>Run: Runs the currently selected test. When only a single test is loaded
this button and the Run All button have the same effect.</p><p><img src=/images/documentation/legacy/selenium_ide_features_5.png alt="Selenium IDE Features">
<img src=/images/documentation/legacy/selenium_ide_features_6.png alt="Selenium IDE Features"></p><p>Pause/Resume: Allows stopping and re-starting of a running test case.</p><p><img src=/images/documentation/legacy/selenium_ide_features_7.png alt="Selenium IDE Features"></p><p>Step: Allows you to “step” through a test case by running it one command at a time.
Use for debugging test cases.</p><p><img src=/images/documentation/legacy/selenium_ide_features_8.png alt="Selenium IDE Features"></p><p>TestRunner Mode: Allows you to run the test case in a browser loaded with the
Selenium-Core TestRunner. The TestRunner is not commonly used now and is likely
to be deprecated. This button is for evaluating test cases for backwards
compatibility with the TestRunner. Most users will probably not need this
button.</p><p><img src=/images/documentation/legacy/selenium_ide_features_9.png alt="Selenium IDE Features"></p><p>Apply Rollup Rules: This advanced feature allows repetitive sequences of
Selenium commands to be grouped into a single action. Detailed documentation on
rollup rules can be found in the UI-Element Documentation on the Help menu.</p><p><img src=/images/documentation/legacy/selenium_ide_features_10.png alt="Selenium IDE Features"></p><h3 id=test-case-pane>Test Case Pane</h3><p>Your script is displayed in the test case pane. It has two tabs, one for
displaying the command and their parameters in a readable “table” format.</p><p><img src=/images/documentation/legacy/selenium_ide_image_pane.png alt="Selenium IDE Image Pane"></p><p>The other tab - Source displays the test case in the native format in which the
file will be stored. By default, this is HTML although it can be changed to a
programming language such as Java or C#, or a scripting language like Python.
See the Options menu for details. The Source view also allows one to edit the
test case in its raw form, including copy, cut and paste operations.</p><p>The Command, Target, and Value entry fields display the currently selected
command along with its parameters. These are entry fields where you can modify
the currently selected command. The first parameter specified for a command in
the Reference tab of the bottom pane always goes in the Target field. If a
second parameter is specified by the Reference tab, it always goes in the Value
field.</p><p><img src=/images/documentation/legacy/selenium_ide_entry_fields.png alt="Selenium IDE Entry Fields"></p><p>If you start typing in the Command field, a drop-down list will be populated
based on the first characters you type; you can then select your desired
command from the drop-down.</p><h3 id=logreferenceui-elementrollup-pane>Log/Reference/UI-Element/Rollup Pane</h3><p>The bottom pane is used for four different functions–Log, Reference,
UI-Element, and Rollup–depending on which tab is selected.</p><h4 id=log>Log</h4><p>When you run your test case, error messages and information messages showing
the progress are displayed in this pane automatically, even if you do not first
select the Log tab. These messages are often useful for test case debugging.
Notice the Clear button for clearing the Log. Also notice the Info button is a
drop-down allowing selection of different levels of information to log.</p><p><img src=/images/documentation/legacy/selenium_ide_bottom_box.png alt="Selenium IDE Bottom Box"></p><h4 id=reference>Reference</h4><p>The Reference tab is the default selection whenever you are entering or
modifying Selenese commands and parameters in Table mode. In Table mode, the
Reference pane will display documentation on the current command. When entering
or modifying commands, whether from Table or Source mode, it is critically
important to ensure that the parameters specified in the Target and Value
fields match those specified in the parameter list in the Reference pane. The
number of parameters provided must match the number specified, the order of
parameters provided must match the order specified, and the type of parameters
provided must match the type specified. If there is a mismatch in any of these
three areas, the command will not run correctly.</p><p><img src=/images/documentation/legacy/selenium_ide_bottom_box_ref.png alt="Selenium IDE Bottom Box"></p><p>While the Reference tab is invaluable as a quick reference, it is still often
necessary to consult the Selenium Reference document.</p><h4 id=ui-element-and-rollup>UI-Element and Rollup</h4><p>Detailed information on these two panes (which cover advanced features) can be
found in the UI-Element Documentation on the Help menu of Selenium-IDE.</p><h2 id=building-test-cases>Building Test Cases</h2><p>There are three primary methods for developing test cases. Frequently, a test
developer will require all three techniques.</p><h3 id=recording>Recording</h3><p>Many first-time users begin by recording a test case from their interactions
with a website. When Selenium-IDE is first opened, the record button is ON by
default. If you do not want Selenium-IDE to begin recording automatically you
can turn this off by going under Options > Options… and deselecting “Start
recording immediately on open.”</p><p>During recording, Selenium-IDE will automatically insert commands into your
test case based on your actions. Typically, this will include:</p><ul><li>clicking a link - click or clickAndWait commands</li><li>entering values - type command</li><li>selecting options from a drop-down listbox - select command</li><li>clicking checkboxes or radio buttons - click command</li></ul><p>Here are some “gotchas” to be aware of:</p><ul><li>The type command may require clicking on some other area of the web page for it
to record.</li><li>Following a link usually records a click command. You will often need to change
this to clickAndWait to ensure your test case pauses until the new page is
completely loaded. Otherwise, your test case will continue running commands
before the page has loaded all its UI elements. This will cause unexpected test
case failures.</li></ul><h3 id=adding-verifications-and-asserts-with-the-context-menu>Adding Verifications and Asserts With the Context Menu</h3><p>Your test cases will also need to check the properties of a web-page. This
requires assert and verify commands. We won’t describe the specifics of these
commands here; that is in the chapter on Selenium Commands – “Selenese”. Here
we’ll simply describe how to add them to your test case.</p><p>With Selenium-IDE recording, go to the browser displaying your test application
and right click anywhere on the page. You will see a context menu showing
verify and/or assert commands.</p><p>The first time you use Selenium, there may only be one Selenium command listed.
As you use the IDE however, you will find additional commands will quickly be
added to this menu. Selenium-IDE will attempt to predict what command, along
with the parameters, you will need for a selected UI element on the current
web-page.</p><p>Let’s see how this works. Open a web-page of your choosing and select a block
of text on the page. A paragraph or a heading will work fine. Now, right-click
the selected text. The context menu should give you a verifyTextPresent command
and the suggested parameter should be the text itself.</p><p>Also, notice the Show All Available Commands menu option. This shows many, many
more commands, again, along with suggested parameters, for testing your
currently selected UI element.</p><p>Try a few more UI elements. Try right-clicking an image, or a user control like
a button or a checkbox. You may need to use Show All Available Commands to see
options other than verifyTextPresent. Once you select these other options, the
more commonly used ones will show up on the primary context menu. For example,
selecting verifyElementPresent for an image should later cause that command to
be available on the primary context menu the next time you select an image and
right-click.</p><p>Again, these commands will be explained in detail in the chapter on Selenium
commands. For now though, feel free to use the IDE to record and select
commands into a test case and then run it. You can learn a lot about the
Selenium commands simply by experimenting with the IDE.</p><h3 id=editing>Editing</h3><h4 id=insert-command>Insert Command</h4><h5 id=table-view>Table View</h5><p>Select the point in your test case where you want to insert the command. To do
this, in the Test Case Pane, left-click on the line where you want to insert a
new command. Right-click and select Insert Command; the IDE will add a blank
line just ahead of the line you selected. Now use the command editing text
fields to enter your new command and its parameters.</p><h5 id=source-view>Source View</h5><p>Select the point in your test case where you want to insert the command. To do
this, in the Test Case Pane, left-click between the commands where you want to
insert a new command, and enter the HTML tags needed to create a 3-column row
containing the Command, first parameter (if one is required by the Command),
and second parameter (again, if one is required to locate an element) and third
parameter(again, if one is required to have a value). Example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Command<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>target (locator)<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Value<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h4 id=insert-comment>Insert Comment</h4><p>Comments may be added to make your test case more readable. These comments are
ignored when the test case is run.</p><p>Comments may also be used to add vertical white space (one or more blank lines)
in your tests; just create empty comments. An empty command will cause an error
during execution; an empty comment won’t.</p><h5 id=table-view-1>Table View</h5><p>Select the line in your test case where you want to insert the comment.
Right-click and select Insert Comment. Now use the Command field to enter the
comment. Your comment will appear in purple text.</p><h5 id=source-view-1>Source View</h5><p>Select the point in your test case where you want to insert the comment. Add an
HTML-style comment, i.e., <code>&lt;!-- your comment here --></code>.</p><h4 id=edit-a-command-or-comment>Edit a Command or Comment</h4><h5 id=table-view-2>Table View</h5><p>Simply select the line to be changed and edit it using the Command, Target,
and Value fields.</p><h5 id=source-view-2>Source View</h5><p>Since Source view provides the equivalent of a WYSIWYG (What You See is What
You Get) editor, simply modify which line you wish–command, parameter, or comment.</p><h3 id=opening-and-saving-a-test-case>Opening and Saving a Test Case</h3><p>Like most programs, there are Save and Open commands under the File menu.
However, Selenium distinguishes between test cases and test suites. To save
your Selenium-IDE tests for later use you can either save the individual test
cases, or save the test suite. If the test cases of your test suite have not
been saved, you’ll be prompted to save them before saving the test suite.</p><p>When you open an existing test case or suite, Selenium-IDE displays its
Selenium commands in the Test Case Pane.</p><h2 id=running-test-cases>Running Test Cases</h2><p>The IDE allows many options for running your test case. You can run a test case
all at once, stop and start it, run it one line at a time, run a single command
you are currently developing, and you can do a batch run of an entire test
suite. Execution of test cases is very flexible in the IDE.</p><p><strong>Run a Test Case</strong></p><p>Click the Run button to run the currently displayed test case.</p><p><strong>Run a Test Suite</strong></p><p>Click the Run All button to run all the test cases in the currently loaded test
suite.</p><p><strong>Stop and Start</strong></p><p>The Pause button can be used to stop the test case while it is running. The
icon of this button then changes to indicate the Resume button. To continue
click Resume.</p><p><strong>Stop in the Middle</strong></p><p>You can set a breakpoint in the test case to cause it to stop on a particular
command. This is useful for debugging your test case. To set a breakpoint,
select a command, right-click, and from the context menu select Toggle
Breakpoint.</p><p><strong>Start from the Middle</strong></p><p>You can tell the IDE to begin running from a specific command in the middle of
the test case. This also is used for debugging. To set a startpoint, select a
command, right-click, and from the context menu select Set/Clear Start Point.</p><p><strong>Run Any Single Command</strong></p><p>Double-click any single command to run it by itself. This is useful when
writing a single command. It lets you immediately test a command you are
constructing, when you are not sure if it is correct. You can double-click it
to see if it runs correctly. This is also available from the context menu.</p><h2 id=using-base-url-to-run-test-cases-in-different-domains>Using Base URL to Run Test Cases in Different Domains</h2><p>The Base URL field at the top of the Selenium-IDE window is very useful for
allowing test cases to be run across different domains. Suppose that a site
named <a href=http://news.portal.com>http://news.portal.com</a> had an in-house beta site named
<a href=http://beta.news.portal.com>http://beta.news.portal.com</a>. Any test cases for these sites that begin with an
open statement should specify a relative URL as the argument to open rather
than an absolute URL (one starting with a protocol such as http: or https:).
Selenium-IDE will then create an absolute URL by appending the open command’s
argument onto the end of the value of Base URL. For example, the test case
below would be run against <a href=http://news.portal.com/about.html>http://news.portal.com/about.html</a>:</p><p><img src=/images/documentation/legacy/selenium_ide_base_url_prod.png alt="Selenium IDE Prod URL"></p><p>This same test case with a modified Base URL setting would be run against
<a href=http://beta.news.portal.com/about.html>http://beta.news.portal.com/about.html</a>:</p><p><img src=/images/documentation/legacy/selenium_ide_base_url_beta.png alt="Selenium IDE Beta URL"></p><h2 id=selenium-commands--selenese>Selenium Commands – “Selenese”</h2><p>Selenium commands, often called selenese, are the set of commands that run your
tests. A sequence of these commands is a test script. Here we explain those
commands in detail, and we present the many choices you have in testing your
web application when using Selenium.</p><p>Selenium provides a rich set of commands for fully testing your web-app in
virtually any way you can imagine. The command set is often called selenese.
These commands essentially create a testing language.</p><p>In selenese, one can test the existence of UI elements based on their HTML
tags, test for specific content, test for broken links, input fields, selection
list options, submitting forms, and table data among other things. In addition
Selenium commands support testing of window size, mouse position, alerts, Ajax
functionality, pop up windows, event handling, and many other web-application
features. The Command Reference lists all the available commands.</p><p>A command tells Selenium what to do. Selenium commands come in three “flavors”:
<strong>Actions</strong>, <strong>Accessors</strong>, and <strong>Assertions</strong>.</p><ul><li><p><strong>Actions</strong> are commands that generally manipulate the state of the application.
They do things like “click this link” and “select that option”. If an Action
fails, or has an error, the execution of the current test is stopped.</p><p>Many Actions can be called with the “AndWait” suffix, e.g. “clickAndWait”. This
suffix tells Selenium that the action will cause the browser to make a call to
the server, and that Selenium should wait for a new page to load.</p></li><li><p><strong>Accessors</strong> examine the state of the application and store the results in
variables, e.g. “storeTitle”. They are also used to automatically generate
Assertions.</p></li><li><p><strong>Assertions</strong> are like Accessors, but they verify that the state of the
application conforms to what is expected. Examples include “make sure the page
title is X” and “verify that this checkbox is checked”.</p></li></ul><p>All Selenium Assertions can be used in 3 modes: “assert”, “verify”, and ”
waitFor”. For example, you can “assertText”, “verifyText” and “waitForText”.
When an “assert” fails, the test is aborted. When a “verify” fails, the test
will continue execution, logging the failure. This allows a single “assert” to
ensure that the application is on the correct page, followed by a bunch of
“verify” assertions to test form field values, labels, etc.</p><p>“waitFor” commands wait for some condition to become true (which can be useful
for testing Ajax applications). They will succeed immediately if the condition
is already true. However, they will fail and halt the test if the condition
does not become true within the current timeout setting (see the setTimeout
action below).</p><h2 id=script-syntax>Script Syntax</h2><p>Selenium commands are simple, they consist of the command and two parameters.
For example:</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>verifyText</td><td>//div//a[2]</td><td>Login</td></tr></tbody></table><p>The parameters are not always required; it depends on the command. In some
cases both are required, in others one parameter is required, and in still
others the command may take no parameters at all. Here are a couple more
examples:</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>goBackAndWait</td><td></td><td></td></tr><tr><td>verifyTextPresent</td><td></td><td>Welcome to My Home Page</td></tr><tr><td>type</td><td>id=phone</td><td>(555) 666-7066</td></tr><tr><td>type</td><td>id=address1</td><td>${myVariableAddress}</td></tr></tbody></table><p>The command reference describes the parameter requirements for each command.</p><p>Parameters vary, however they are typically:</p><ul><li>a locator for identifying a UI element within a page.</li><li>a text pattern for verifying or asserting expected page content</li><li>a text pattern or a Selenium variable for entering text in an input field or
for selecting an option from an option list.</li></ul><p>Locators, text patterns, Selenium variables, and the commands themselves are
described in considerable detail in the section on Selenium Commands.</p><p>Selenium scripts that will be run from Selenium-IDE will be stored in an HTML
text file format. This consists of an HTML table with three columns. The first
column identifies the Selenium command, the second is a target, and the final
column contains a value. The second and third columns may not require values
depending on the chosen Selenium command, but they should be present. Each
table row represents a new Selenium command. Here is an example of a test that
opens a page, asserts the page title and then verifies some content on the page:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>open<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>/download/<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>assertTitle<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Downloads<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>verifyText<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>//h2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Downloads<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>Rendered as a table in a browser this would look like the following:</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>open</td><td>/download/</td><td></td></tr><tr><td>assertTitle</td><td></td><td>Downloads</td></tr><tr><td>verifyText</td><td>//h2</td><td>Downloads</td></tr></tbody></table><p>The Selenese HTML syntax can be used to write and run tests without requiring
knowledge of a programming language. With a basic knowledge of selenese and
Selenium-IDE you can quickly produce and run testcases.</p><h2 id=test-suites>Test Suites</h2><p>A test suite is a collection of tests. Often one will run all the tests in a
test suite as one continuous batch-job.</p><p>When using Selenium-IDE, test suites also can be defined using a simple HTML
file. The syntax again is simple. An HTML table defines a list of tests where
each row defines the filesystem path to each test. An example tells it all.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Test Suite Function Tests - Priority 1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>Suite Of Tests<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./Login.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Login<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./SearchValues.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Test Searching for Values<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./SaveValues.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Test Save<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>A file similar to this would allow running the tests all at once, one after
another, from the Selenium-IDE.</p><p>Test suites can also be maintained when using Selenium-RC. This is done via
programming and can be done a number of ways. Commonly Junit is used to
maintain a test suite if one is using Selenium-RC with Java. Additionally, if
C# is the chosen language, Nunit could be employed. If using an interpreted
language like Python with Selenium-RC then some simple programming would be
involved in setting up a test suite. Since the whole reason for using
Selenium-RC is to make use of programming logic for your testing this usually
isn’t a problem.</p><h2 id=commonly-used-selenium-commands>Commonly Used Selenium Commands</h2><p>To conclude our introduction of Selenium, we’ll show you a few typical Selenium
commands. These are probably the most commonly used commands for building
tests.</p><p><strong>open</strong></p><p>opens a page using a URL.</p><p><strong>click/clickAndWait</strong></p><p>performs a click operation, and optionally waits for a new page to load.</p><p><strong>verifyTitle/assertTitle</strong></p><p>verifies an expected page title.</p><p><strong>verifyTextPresent</strong></p><p>verifies expected text is somewhere on the page.</p><p><strong>verifyElementPresent</strong></p><p>verifies an expected UI element, as defined by its HTML tag, is present on the
page.</p><p><strong>verifyText</strong></p><p>verifies expected text and its corresponding HTML tag are present on the page.</p><p><strong>verifyTable</strong></p><p>verifies a table’s expected contents.</p><p><strong>waitForPageToLoad</strong></p><p>pauses execution until an expected new page loads. Called automatically when
clickAndWait is used.</p><p><strong>waitForElementPresent</strong></p><p>pauses execution until an expected UI element, as defined by its HTML tag, is
present on the page.</p><h2 id=verifying-page-elements>Verifying Page Elements</h2><p>Verifying UI elements on a web page is probably the most common feature of your
automated tests. Selenese allows multiple ways of checking for UI elements. It
is important that you understand these different methods because these methods
define what you are actually testing.</p><p>For example, will you test that…</p><ol><li>an element is present somewhere on the page?</li><li>specific text is somewhere on the page?</li><li>specific text is at a specific location on the page?</li></ol><p>For example, if you are testing a text heading, the text and its position at
the top of the page are probably relevant for your test. If, however, you are
testing for the existence of an image on the home page, and the web designers
frequently change the specific image file along with its position on the page,
then you only want to test that an image (as opposed to the specific image
file) exists somewhere on the page.</p><h2 id=assertion-or-verification>Assertion or Verification?</h2><p>Choosing between “assert” and “verify” comes down to convenience and management
of failures. There’s very little point checking that the first paragraph on the
page is the correct one if your test has already failed when checking that the
browser is displaying the expected page. If you’re not on the correct page,
you’ll probably want to abort your test case so that you can investigate the
cause and fix the issue(s) promptly. On the other hand, you may want to check
many attributes of a page without aborting the test case on the first failure
as this will allow you to review all failures on the page and take the
appropriate action. Effectively an “assert” will fail the test and abort the
current test case, whereas a “verify” will fail the test and continue to run
the test case.</p><p>The best use of this feature is to logically group your test commands, and
start each group with an “assert” followed by one or more “verify” test
commands. An example follows:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>open</td><td>/download/</td><td></td></tr><tr><td>assertTitle</td><td></td><td>Downloads</td></tr><tr><td>verifyText</td><td>//h2</td><td>Downloads</td></tr><tr><td>assertTable</td><td>1.2.1</td><td>Selenium IDE</td></tr><tr><td>verifyTable</td><td>1.2.2</td><td>June 3, 2008</td></tr><tr><td>verifyTable</td><td>1.2.3</td><td>1.0 beta 2</td></tr></tbody></table><p>The above example first opens a page and then “asserts” that the correct page
is loaded by comparing the title with the expected value. Only if this passes
will the following command run and “verify” that the text is present in the
expected location. The test case then “asserts” the first column in the second
row of the first table contains the expected value, and only if this passed
will the remaining cells in that row be “verified”.</p><h3 id=verifytextpresent><strong>verifyTextPresent</strong></h3><p>The command <code>verifyTextPresent</code> is used to verify specific text exists somewhere
on the page. It takes a single argument–the text pattern to be verified. For
example:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>verifyTextPresent</td><td>Marketing Analysis</td><td></td></tr></tbody></table><p>This would cause Selenium to search for, and verify, that the text string
“Marketing Analysis” appears somewhere on the page currently being tested. Use
verifyTextPresent when you are interested in only the text itself being present
on the page. Do not use this when you also need to test where the text occurs
on the page.</p><h3 id=verifyelementpresent><strong>verifyElementPresent</strong></h3><p>Use this command when you must test for the presence of a specific UI element,
rather than its content. This verification does not check the text, only the
HTML tag. One common use is to check for the presence of an image.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>verifyElementPresent</td><td>//div/p/img</td><td></td></tr></tbody></table><p>This command verifies that an image, specified by the existence of an <img>
HTML tag, is present on the page, and that it follows a<div>tag and a<p>tag. The first (and only) parameter is a locator for telling the Selenese
command how to find the element. Locators are explained in the next section.</p><p><code>verifyElementPresent</code> can be used to check the existence of any HTML tag within
the page. You can check the existence of links, paragraphs, divisions<div>,
etc. Here are a few more examples.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>verifyElementPresent</td><td>//div/p</td><td></td></tr><tr><td>verifyElementPresent</td><td>//div/a</td><td></td></tr><tr><td>verifyElementPresent</td><td>id=Login</td><td></td></tr><tr><td>verifyElementPresent</td><td>link=Go to Marketing Research</td><td></td></tr><tr><td>verifyElementPresent</td><td>//a[2]</td><td></td></tr><tr><td>verifyElementPresent</td><td>//head/title</td><td></td></tr></tbody></table><p>These examples illustrate the variety of ways a UI element may be tested. Again,
locators are explained in the next section.</p><h3 id=verifytext><strong>verifyText</strong></h3><p>Use <code>verifyText</code> when both the text and its UI element must be tested. verifyText
must use a locator. If you choose an <em>XPath</em> or <em>DOM</em> locator, you can verify that
specific text appears at a specific location on the page relative to other UI
components on the page.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>verifyText</td><td>//table/tr/td/div/p</td><td>This is my text and it occurs right after the div inside the table.</td></tr></tbody></table><h2 id=locating-elements>Locating Elements</h2><p>For many Selenium commands, a target is required. This target identifies an
element in the content of the web application, and consists of the location
strategy followed by the location in the format <code>locatorType=location</code>. The
locator type can be omitted in many cases. The various locator types are
explained below with examples for each.</p><h3 id=locating-by-identifier>Locating by Identifier</h3><p>This is probably the most common method of locating elements and is the
catch-all default when no recognized locator type is used. With this strategy,
the first element with the id attribute value matching the location will be used. If
no element has a matching id attribute, then the first element with a name
attribute matching the location will be used.</p><p>For instance, your page source could have id and name attributes
as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>The following locator strategies would return the elements from the HTML
snippet above indicated by line number:</p><ul><li><code>identifier=loginForm</code> (3)</li><li><code>identifier=password</code> (5)</li><li><code>identifier=continue</code> (6)</li><li><code>continue</code> (6)</li></ul><p>Since the <code>identifier</code> type of locator is the default, the <code>identifier=</code>
in the first three examples above is not necessary.</p><h3 id=locating-by-id>Locating by Id</h3><p>This type of locator is more limited than the identifier locator type, but
also more explicit. Use this when you know an element&rsquo;s id attribute.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Clear&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>id=loginForm</code> (3)</li></ul><h3 id=locating-by-name>Locating by Name</h3><p>The name locator type will locate the first element with a matching name
attribute. If multiple elements have the same value for a name attribute, then
you can use filters to further refine your location strategy. The default
filter type is value (matching the value attribute).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Clear&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>name=username</code> (4)</li><li><code>name=continue value=Clear</code> (7)</li><li><code>name=continue Clear</code> (7)</li><li><code>name=continue type=button</code> (7)</li></ul><p>Note: Unlike some types of XPath and DOM locators, the three
types of locators above allow Selenium to test a UI element independent
of its location on
the page. So if the page structure and organization is altered, the test
will still pass. You may or may not want to also test whether the page
structure changes. In the case where web designers frequently alter the
page, but its functionality must be regression tested, testing via id and
name attributes, or really via any HTML property, becomes very important.</p><h3 id=locating-by-xpath>Locating by XPath</h3><p>XPath is the language used for locating nodes in an XML document. As HTML can
be an implementation of XML (XHTML), Selenium users can leverage this powerful
language to target elements in their web applications. XPath extends beyond (as
well as supporting) the simple methods of locating by id or name
attributes, and opens up all sorts of new possibilities such as locating the
third checkbox on the page.</p><p>One of the main reasons for using XPath is when you don&rsquo;t have a suitable id
or name attribute for the element you wish to locate. You can use XPath to
either locate the element in absolute terms (not advised), or relative to an
element that does have an id or name attribute. XPath locators can also be
used to specify elements via attributes other than id and name.</p><p>Absolute XPaths contain the location of all elements from the root (html) and
as a result are likely to fail with only the slightest adjustment to the
application. By finding a nearby element with an id or name attribute (ideally
a parent element) you can locate your target element based on the relationship.
This is much less likely to change and can make your tests more robust.</p><p>Since only <code>xpath</code> locators start with &ldquo;//&rdquo;, it is not necessary to include
the <code>xpath=</code> label when specifying an XPath locator.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Clear&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>xpath=/html/body/form[1]</code> (3) - <em>Absolute path (would break if the HTML was
changed only slightly)</em></li><li><code>//form[1]</code> (3) - <em>First form element in the HTML</em></li><li><code>xpath=//form[@id='loginForm']</code> (3) - <em>The form element with attribute named &lsquo;id&rsquo; and the value &rsquo;loginForm&rsquo;</em></li><li><code>xpath=//form[input/@name='username']</code> (3) - <em>First form element with an input child
element with attribute named &rsquo;name&rsquo; and the value &lsquo;username&rsquo;</em></li><li><code>//input[@name='username']</code> (4) - <em>First input element with attribute named &rsquo;name&rsquo; and the value
&lsquo;username&rsquo;</em></li><li><code>//form[@id='loginForm']/input[1]</code> (4) - <em>First input child element of the
form element with attribute named &lsquo;id&rsquo; and the value &rsquo;loginForm&rsquo;</em></li><li><code>//input[@name='continue'][@type='button']</code> (7) - <em>Input with attribute named &rsquo;name&rsquo; and the value &lsquo;continue&rsquo;
and attribute named &rsquo;type&rsquo; and the value &lsquo;button&rsquo;</em></li><li><code>//form[@id='loginForm']/input[4]</code> (7) - <em>Fourth input child element of the
form element with attribute named &lsquo;id&rsquo; and value &rsquo;loginForm&rsquo;</em></li></ul><p>These examples cover some basics, but in order to learn more, the
following references are recommended:</p><ul><li><a href=http://www.w3schools.com/xml/xpath_intro.asp%3E>W3Schools XPath Tutorial</a></li><li><a href=http://www.w3.org/TR/xpath>W3C XPath Recommendation</a></li></ul><p>There are also a couple of very useful Firefox Add-ons that can assist in
discovering the XPath of an element:</p><ul><li><a href="https://addons.mozilla.org/en-US/firefox/addon/1095?id=1095">XPath Checker</a>
XPath and can be used to test XPath results.</li><li>[Firebug](<a href=https://addons.mozilla.org/en-US/firefox/addon/1843>https://addons.mozilla.org/en-US/firefox/addon/1843</a> - XPath
suggestions are just one of the many powerful features of this very useful add-on.</li></ul><h3 id=locating-hyperlinks-by-link-text>Locating Hyperlinks by Link Text</h3><p>This is a simple method of locating a hyperlink in your web page by using the
text of the link. If two links with the same text are present, then the first
match will be used.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Are you sure you want to do this?<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Continue<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> 
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;cancel.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Cancel<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>link=Continue</code> (4)</li><li><code>link=Cancel</code> (5)</li></ul><h3 id=locating-by-dom>Locating by DOM</h3><p>The Document Object Model represents an HTML document and can be accessed
using JavaScript. This location strategy takes JavaScript that evaluates to
an element on the page, which can be simply the element&rsquo;s location using the
hierarchical dotted notation.</p><p>Since only <code>dom</code> locators start with &ldquo;document&rdquo;, it is not necessary to include
the <code>dom=</code> label when specifying a DOM locator.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Clear&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>dom=document.getElementById('loginForm')</code> (3)</li><li><code>dom=document.forms['loginForm']</code> (3)</li><li><code>dom=document.forms[0]</code> (3)</li><li><code>document.forms[0].username</code> (4)</li><li><code>document.forms[0].elements['username']</code> (4)</li><li><code>document.forms[0].elements[0]</code> (4)</li><li><code>document.forms[0].elements[3]</code> (7)</li></ul><p>You can use Selenium itself as well as other sites and extensions to explore
the DOM of your web application. A good reference exists on <a href=http://www.w3schools.com/js/js_htmldom.asp>W3Schools</a>.</p><h3 id=locating-by-css>Locating by CSS</h3><p>CSS (Cascading Style Sheets) is a language for describing the rendering of HTML
and XML documents. CSS uses Selectors for binding style properties to elements
in the document. These Selectors can be used by Selenium as another locating
strategy.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;loginForm&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;required&#34;</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;required passfield&#34;</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Login&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;continue&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Clear&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><code>css=form#loginForm</code> (3)</li><li><code>css=input[name="username"]</code> (4)</li><li><code>css=input.required[type="text"]</code> (4)</li><li><code>css=input.passfield</code> (5)</li><li><code>css=#loginForm input[type="button"]</code> (7)</li><li><code>css=#loginForm input:nth-child(2)</code> (5)</li></ul><p>For more information about CSS Selectors, the best place to go is <a href=http://www.w3.org/TR/css3-selectors/>the W3C
publication</a>. You&rsquo;ll find additional
references there.</p><h3 id=implicit-locators>Implicit Locators</h3><p>You can choose to omit the locator type in the following situations:</p><ul><li><p>Locators without an explicitly defined locator strategy will default
to using the identifier locator strategy. See <code>Locating by Identifier</code>_.</p></li><li><p>Locators starting with &ldquo;//&rdquo; will use the XPath locator strategy.
See <code>Locating by XPath</code>_.</p></li><li><p>Locators starting with &ldquo;document&rdquo; will use the DOM locator strategy.
See <code>Locating by DOM</code>_</p></li></ul><h2 id=matching-text-patterns>Matching Text Patterns</h2><p>Like locators, <em>patterns</em> are a type of parameter frequently required by Selenese
commands. Examples of commands which require patterns are <strong>verifyTextPresent</strong>,
<strong>verifyTitle</strong>, <strong>verifyAlert</strong>, <strong>assertConfirmation</strong>, <strong>verifyText</strong>, and
<strong>verifyPrompt</strong>. And as has been mentioned above, link locators can utilize
a pattern. Patterns allow you to <em>describe</em>, via the use of special characters,
what text is expected rather than having to specify that text exactly.</p><p>There are three types of patterns: <em>globbing</em>, <em>regular expressions</em>, and <em>exact</em>.</p><h3 id=globbing-patterns>Globbing Patterns</h3><p>Most people are familiar with globbing as it is utilized in
filename expansion at a DOS or Unix/Linux command line such as <code>ls *.c</code>.
In this case, globbing is used to display all the files ending with a <code>.c</code>
extension that exist in the current directory. Globbing is fairly limited.<br>Only two special characters are supported in the Selenium implementation:</p><p><code>*</code> which translates to &ldquo;match anything,&rdquo; i.e., nothing, a single character, or many characters.</p><p><code>[ ]</code> (<em>character class</em>) which translates to &ldquo;match any single character
found inside the square brackets.&rdquo; A dash (hyphen) can be used as a shorthand
to specify a range of characters (which are contiguous in the ASCII character
set). A few examples will make the functionality of a character class clear:</p><p><code>[aeiou]</code> matches any lowercase vowel</p><p><code>[0-9]</code> matches any digit</p><p><code>[a-zA-Z0-9]</code> matches any alphanumeric character</p><p>In most other contexts, globbing includes a third special character, the <strong>?</strong>.
However, Selenium globbing patterns only support the asterisk and character
class.</p><p>To specify a globbing pattern parameter for a Selenese command, you can
prefix the pattern with a <strong>glob:</strong> label. However, because globbing
patterns are the default, you can also omit the label and specify just the
pattern itself.</p><p>Below is an example of two commands that use globbing patterns. The
actual link text on the page being tested
was &ldquo;Film/Television Department&rdquo;; by using a pattern
rather than the exact text, the <strong>click</strong> command will work even if the
link text is changed to &ldquo;Film & Television Department&rdquo; or &ldquo;Film and Television
Department&rdquo;. The glob pattern&rsquo;s asterisk will match &ldquo;anything or nothing&rdquo;
between the word &ldquo;Film&rdquo; and the word &ldquo;Television&rdquo;.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>click</td><td>link=glob:Film*Television Department</td><td></td></tr><tr><td>verifyTitle</td><td>glob:*Film*Television*</td><td></td></tr></tbody></table><p>The actual title of the page reached by clicking on the link was &ldquo;De Anza Film And
Television Department - Menu&rdquo;. By using a pattern rather than the exact
text, the <code>verifyTitle</code> will pass as long as the two words &ldquo;Film&rdquo; and &ldquo;Television&rdquo; appear
(in that order) anywhere in the page&rsquo;s title. For example, if
the page&rsquo;s owner should shorten
the title to just &ldquo;Film & Television Department,&rdquo; the test would still pass.
Using a pattern for both a link and a simple test that the link worked (such as
the <code>verifyTitle</code> above does) can greatly reduce the maintenance for such
test cases.</p><h4 id=regular-expression-patterns>Regular Expression Patterns</h4><p><em>Regular expression</em> patterns are the most powerful of the three types
of patterns that Selenese supports. Regular expressions
are also supported by most high-level programming languages, many text
editors, and a host of tools, including the Linux/Unix command-line
utilities <strong>grep</strong>, <strong>sed</strong>, and <strong>awk</strong>. In Selenese, regular
expression patterns allow a user to perform many tasks that would
be very difficult otherwise. For example, suppose your test needed
to ensure that a particular table cell contained nothing but a number.
<code>regexp: [0-9]+</code> is a simple pattern that will match a decimal number of any length.</p><p>Whereas Selenese globbing patterns support only the <strong>*</strong>
and <strong>[ ]</strong> (character
class) features, Selenese regular expression patterns offer the same
wide array of special characters that exist in JavaScript. Below
are a subset of those special characters:</p><table><thead><tr><th>PATTERN</th><th>MATCH</th></tr></thead><tbody><tr><td>.</td><td>any single character</td></tr><tr><td>[ ]</td><td>character class: any single character that appears inside the brackets</td></tr><tr><td>*</td><td>quantifier: 0 or more of the preceding character (or group)</td></tr><tr><td>+</td><td>quantifier: 1 or more of the preceding character (or group)</td></tr><tr><td>?</td><td>quantifier: 0 or 1 of the preceding character (or group)</td></tr><tr><td>{1,5}</td><td>quantifier: 1 through 5 of the preceding character (or group)</td></tr><tr><td>|</td><td>alternation: the character/group on the left or the character/group on the right</td></tr><tr><td>( )</td><td>grouping: often used with alternation and/or quantifier</td></tr></tbody></table><p>Regular expression patterns in Selenese need to be prefixed with
either <code>regexp:</code> or <code>regexpi:</code>. The former is case-sensitive; the
latter is case-insensitive.</p><p>A few examples will help clarify how regular expression patterns can
be used with Selenese commands. The first one uses what is probably
the most commonly used regular expression pattern&ndash;<strong>.*</strong> (&ldquo;dot star&rdquo;). This
two-character sequence can be translated as &ldquo;0 or more occurrences of
any character&rdquo; or more simply, &ldquo;anything or nothing.&rdquo; It is the
equivalent of the one-character globbing pattern <strong>*</strong> (a single asterisk).</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>click</td><td>link=glob:Film*Television Department</td><td></td></tr><tr><td>verifyTitle</td><td>regexp:.*Film.*Television.*</td><td></td></tr></tbody></table><p>The example above is functionally equivalent to the earlier example
that used globbing patterns for this same test. The only differences
are the prefix (<strong>regexp:</strong> instead of <strong>glob:</strong>) and the &ldquo;anything
or nothing&rdquo; pattern (<strong>.*</strong> instead of just <strong>*</strong>).</p><p>The more complex example below tests that the Yahoo!
Weather page for Anchorage, Alaska contains info on the sunrise time:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>open</td><td><a href=http://weather.yahoo.com/forecast/USAK0012.html>http://weather.yahoo.com/forecast/USAK0012.html</a></td><td></td></tr><tr><td>verifyTextPresent</td><td>regexp:Sunrise: *[0-9]{1,2}:[0-9]{2} [ap]m</td><td></td></tr></tbody></table><p>Let&rsquo;s examine the regular expression above one part at a time:</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>Sunrise: *</code></td><td>The string <strong>Sunrise:</strong> followed by 0 or more spaces</td></tr><tr><td><code>[0-9]{1,2}</code></td><td>1 or 2 digits (for the hour of the day)</td></tr><tr><td><code>:</code></td><td>The character <strong>:</strong> (no special characters involved)</td></tr><tr><td><code>[0-9]{2}</code></td><td>2 digits (for the minutes) followed by a space</td></tr><tr><td><code>[ap]m</code></td><td>&ldquo;a&rdquo; or &ldquo;p&rdquo; followed by &ldquo;m&rdquo; (am or pm)</td></tr></tbody></table><h4 id=exact-patterns>Exact Patterns</h4><p>The <strong>exact</strong> type of Selenium pattern is of marginal usefulness.
It uses no special characters at all. So, if you needed to look for
an actual asterisk character (which is special for both globbing and
regular expression patterns), the <strong>exact</strong> pattern would be one way
to do that. For example, if you wanted to select an item labeled
&ldquo;Real *&rdquo; from a dropdown, the following code might work or it might not.
The asterisk in the <code>glob:Real *</code> pattern will match anything or nothing.
So, if there was an earlier select option labeled &ldquo;Real Numbers,&rdquo; it would
be the option selected rather than the &ldquo;Real *&rdquo; option.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>select</td><td>//select</td><td>glob:Real *</td></tr></tbody></table><p>In order to ensure that the &ldquo;Real *&rdquo; item would be selected, the <code>exact:</code>
prefix could be used to create an <strong>exact</strong> pattern as shown below:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>select</td><td>//select</td><td>exact:Real *</td></tr></tbody></table><p>But the same effect could be achieved via escaping the asterisk in a
regular expression pattern:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>select</td><td>//select</td><td>regexp:Real \*</td></tr></tbody></table><p>It&rsquo;s rather unlikely that most testers will ever need to look for
an asterisk or a set of square brackets with characters inside them (the
character class for globbing patterns). Thus, globbing patterns and
regular expression patterns are sufficient for the vast majority of us.</p><h2 id=the-andwait-commands>The &ldquo;AndWait&rdquo; Commands</h2><p>The difference between a command and its <em>AndWait</em>
alternative is that the regular command (e.g. <em>click</em>) will do the action and
continue with the following command as fast as it can, while the <em>AndWait</em>
alternative (e.g. <em>clickAndWait</em>) tells Selenium to <strong>wait</strong> for the page to
load after the action has been done.</p><p>The <em>AndWait</em> alternative is always used when the action causes the browser to
navigate to another page or reload the present one.</p><p>Be aware, if you use an <em>AndWait</em> command for an action that
does not trigger a navigation/refresh, your test will fail. This happens
because Selenium will reach the <em>AndWait</em>&rsquo;s timeout without seeing any
navigation or refresh being made, causing Selenium to raise a timeout
exception.</p><h2 id=the-waitfor-commands-in-ajax-applications>The waitFor Commands in AJAX applications</h2><p>In AJAX driven web applications, data is retrieved from server without
refreshing the page. Using <em>andWait</em> commands will not work as the page is not
actually refreshed. Pausing the test execution for a certain period of time is
also not a good approach as web element might appear later or earlier than the
stipulated period depending on the system&rsquo;s responsiveness, load or other
uncontrolled factors of the moment, leading to test failures. The best approach
would be to wait for the needed element in a dynamic period and then continue
the execution as soon as the element is found.</p><p>This is done using <em>waitFor</em> commands, as <em>waitForElementPresent</em> or
<em>waitForVisible</em>, which wait dynamically, checking for the desired condition
every second and continuing to the next command in the script as soon as the
condition is met.</p><h2 id=sequence-of-evaluation-and-flow-control>Sequence of Evaluation and Flow Control</h2><p>When a script runs, it simply runs in sequence, one command after another.</p><p>Selenese, by itself, does not support condition statements (if-else, etc.) or
iteration (for, while, etc.). Many useful tests can be conducted without flow
control. However, for a functional test of dynamic content, possibly involving
multiple pages, programming logic is often needed.</p><p>When flow control is needed, there are three options:</p><p>a) Run the script using Selenium-RC and a client library such as Java or
PHP to utilize the programming language&rsquo;s flow control features.
b) Run a small JavaScript snippet from within the script using the storeEval command.
c) Install the <code>goto_sel_ide.js extension</code>.</p><p>Most testers will export the test script into a programming language file that uses the
Selenium-RC API (see the Selenium-IDE chapter). However, some organizations prefer
to run their scripts from Selenium-IDE whenever possible (for instance, when they have
many junior-level people running tests for them, or when programming skills are
lacking). If this is your case, consider a JavaScript snippet or the goto_sel_ide.js extension.</p><h2 id=store-commands-and-selenium-variables>Store Commands and Selenium Variables</h2><p>You can use Selenium variables to store constants at the
beginning of a script. Also, when combined with a data-driven test design
(discussed in a later section), Selenium variables can be used to store values
passed to your test program from the command-line, from another program, or from
a file.</p><p>The plain <em>store</em> command is the most basic of the many store commands and can be used
to simply store a constant value in a Selenium variable. It takes two
parameters, the text value to be stored and a Selenium variable. Use the
standard variable naming conventions of only alphanumeric characters when
choosing a name for your variable.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>store</td><td><a href=mailto:paul@mysite.org>paul@mysite.org</a></td><td></td></tr></tbody></table><p>Later in your script, you&rsquo;ll want to use the stored value of your
variable. To access the value of a variable, enclose the variable in
curly brackets ({}) and precede it with a dollar sign like this.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>verifyText</td><td>//div/p</td><td>\${userName}</td></tr></tbody></table><p>A common use of variables is for storing input for an input field.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>type</td><td>id=login</td><td>\${userName}</td></tr></tbody></table><p>Selenium variables can be used in either the first or second parameter and
are interpreted by Selenium prior to any other operations performed by the
command. A Selenium variable may also be used within a locator expression.</p><p>An equivalent store command exists for each verify and assert command. Here
are a couple more commonly used store commands.</p><h3 id=storeelementpresent>storeElementPresent</h3><p>This corresponds to verifyElementPresent. It simply stores a boolean value&ndash;&ldquo;true&rdquo;
or &ldquo;false&rdquo;&ndash;depending on whether the UI element is found.</p><h3 id=storetext>storeText</h3><p>StoreText corresponds to verifyText. It uses a locator to identify specific
page text. The text, if found, is stored in the variable. StoreText can be
used to extract text from the page being tested.</p><h3 id=storeeval>storeEval</h3><p>This command takes a script as its
first parameter. Embedding JavaScript within Selenese is covered in the next section.
StoreEval allows the test to store the result of running the script in a variable.</p><h2 id=javascript-and-selenese-parameters>JavaScript and Selenese Parameters</h2><p>JavaScript can be used with two types of Selenese parameters: script
and non-script (usually expressions). In most cases, you&rsquo;ll want to access
and/or manipulate a test case variable inside the JavaScript snippet used as
a Selenese parameter. All variables created in your test case are stored in
a JavaScript <em>associative array</em>. An associative array has string indexes
rather than sequential numeric indexes. The associative array containing
your test case&rsquo;s variables is named <strong>storedVars</strong>. Whenever you wish to
access or manipulate a variable within a JavaScript snippet, you must refer
to it as <strong>storedVars[&lsquo;yourVariableName&rsquo;]</strong>.</p><h3 id=javascript-usage-with-script-parameters>JavaScript Usage with Script Parameters</h3><p>Several Selenese commands specify a <strong>script</strong> parameter including
<strong>assertEval</strong>, <strong>verifyEval</strong>, <strong>storeEval</strong>, and <strong>waitForEval</strong>.
These parameters require no special syntax. A Selenium-IDE
user would simply place a snippet of JavaScript code into
the appropriate field, normally the <strong>Target</strong> field (because
a <strong>script</strong> parameter is normally the first or only parameter).</p><p>The example below illustrates how a JavaScript snippet
can be used to perform a simple numerical calculation:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>store</td><td>10</td><td>hits</td></tr><tr><td>storeXpathCount</td><td>//blockquote</td><td>blockquotes</td></tr><tr><td>storeEval</td><td>storedVars[&lsquo;hits&rsquo;].storedVars[&lsquo;blockquotes&rsquo;]</td><td>paragraphs</td></tr></tbody></table><p>This next example illustrates how a JavaScript snippet can include calls to
methods, in this case the JavaScript String object&rsquo;s <code>toUpperCase</code> method
and <code>toLowerCase</code> method.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>store</td><td>Edith Wharton</td><td>name</td></tr><tr><td>storeEval</td><td>storedVars[&rsquo;name&rsquo;].toUpperCase()</td><td>uc</td></tr><tr><td>storeEval</td><td>storedVars[&rsquo;name&rsquo;].toUpperCase()</td><td>lc</td></tr></tbody></table><h4 id=javascript-usage-with-non-script-parameters>JavaScript Usage with Non-Script Parameters</h4><p>JavaScript can also be used to help generate values for parameters, even
when the parameter is not specified to be of type <strong>script</strong>.<br>However, in this case, special syntax is required&ndash;the <em>entire</em> parameter
value must be prefixed by <code>javascript{</code> with a trailing <code>}</code>, which encloses the JavaScript
snippet, as in <code>javascript{*yourCodeHere*}</code>.
Below is an example in which the <code>type</code> command&rsquo;s second parameter
<code>value</code> is generated via JavaScript code using this special syntax:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>store</td><td>league of nations</td><td>searchString</td></tr><tr><td>type</td><td>q</td><td>javascript{storedVars[&lsquo;searchString&rsquo;].toUpperCase()}</td></tr></tbody></table><h2 id=echo---the-selenese-print-command><em>echo</em> - The Selenese Print Command</h2><p>Selenese has a simple command that allows you to print text to your test&rsquo;s
output. This is useful for providing informational progress notes in your
test which display on the console as your test is running. These notes also can be
used to provide context within your test result reports, which can be useful
for finding where a defect exists on a page in the event your test finds a
problem. Finally, echo statements can be used to print the contents of
Selenium variables.</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>echo</td><td>Testing page footer now.</td><td></td></tr><tr><td>echo</td><td>Username is \${userName}</td><td></td></tr></tbody></table><h2 id=alerts-popups-and-multiple-windows>Alerts, Popups, and Multiple Windows</h2><p>Suppose that you are testing a page that looks like this.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE HTML&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javascript&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>output</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>resultText</span><span style=color:#000;font-weight:700>){</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>document</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getElementById</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;output&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>childNodes</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>].</span><span style=color:#000>nodeValue</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>resultText</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>show_confirm</span><span style=color:#000;font-weight:700>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>confirmation</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>confirm</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Chose an option.&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>confirmation</span><span style=color:#ce5c00;font-weight:700>==</span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>){</span>
</span></span><span style=display:flex><span>          <span style=color:#000>output</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Confirmed.&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>else</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>output</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Rejected!&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>show_alert</span><span style=color:#000;font-weight:700>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;I&#39;m blocking!&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>output</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Alert is gone.&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>show_prompt</span><span style=color:#000;font-weight:700>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>prompt</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;What&#39;s the best web QA tool?&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;Selenium&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>output</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>open_window</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>windowName</span><span style=color:#000;font-weight:700>){</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>open</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;newWindow.html&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>windowName</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btnConfirm&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;show_confirm()&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Show confirm box&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btnAlert&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;show_alert()&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Show alert&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btnPrompt&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;show_prompt()&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Show prompt&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;newWindow.html&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;lnkNewWindow&#34;</span> <span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;_blank&#34;</span><span style=color:#000;font-weight:700>&gt;</span>New Window Link<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btnNewNamelessWindow&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;open_window()&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Open Nameless Window&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btnNewNamedWindow&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;open_window(&#39;Mike&#39;)&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Open Named Window&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;output&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>The user must respond to alert/confirm boxes, as well as moving focus to newly
opened popup windows. Fortunately, Selenium can cover JavaScript pop-ups.</p><p>But before we begin covering alerts/confirms/prompts in individual detail, it is
helpful to understand the commonality between them. Alerts, confirmation boxes
and prompts all have variations of the following</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td>assertFoo(pattern)</td><td>throws error if pattern doesn’t match the text of the pop-up</td></tr><tr><td>assertFooPresent</td><td>throws error if pop-up is not available</td></tr><tr><td>assertFooNotPresent</td><td>throws error if any pop-up is present</td></tr><tr><td>storeFoo(variable)</td><td>stores the text of the pop-up in a variable</td></tr><tr><td>storeFooPresent(variable)</td><td>stores the text of the pop-up in a variable and returns true or false</td></tr></tbody></table><p>When running under Selenium, JavaScript pop-ups will not appear. This is because
the function calls are actually being overridden at runtime by Selenium&rsquo;s own
JavaScript. However, just because you cannot see the pop-up doesn&rsquo;t mean you don&rsquo;t
have to deal with it. To handle a pop-up, you must call its <code>assertFoo(pattern)</code>
function. If you fail to assert the presence of a pop-up your next command will be
blocked and you will get an error similar to the following <code>[error] Error: There was an unexpected Confirmation! [Chose an option.]</code></p><h3 id=alerts>Alerts</h3><p>Let&rsquo;s start with alerts because they are the simplest pop-up to handle. To begin,
open the HTML sample above in a browser and click on the &ldquo;Show alert&rdquo; button. You&rsquo;ll
notice that after you close the alert the text &ldquo;Alert is gone.&rdquo; is displayed on the
page. Now run through the same steps with Selenium IDE recording, and verify
the text is added after you close the alert. Your test will look something like
this:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>open</td><td>/</td><td></td></tr><tr><td>click</td><td>btnAlert</td><td></td></tr><tr><td>assertAlert</td><td>I’m blocking!</td><td></td></tr><tr><td>verifyTextPresent</td><td>Alert is gone.</td><td></td></tr></tbody></table><p>You may be thinking &ldquo;That&rsquo;s odd, I never tried to assert that alert.&rdquo; But this is
Selenium-IDE handling and closing the alert for you. If you remove that step and replay
the test you will get the following error <code>[error] Error: There was an unexpected Alert! [I'm blocking!]</code>. You must include an assertion of the alert to acknowledge
its presence.</p><p>If you just want to assert that an alert is present but either don&rsquo;t know or don&rsquo;t care
what text it contains, you can use <code>assertAlertPresent</code>. This will return true or false,
with false halting the test.</p><h3 id=confirmations>Confirmations</h3><p>Confirmations behave in much the same way as alerts, with <code>assertConfirmation</code> and
<code>assertConfirmationPresent</code> offering the same characteristics as their alert counterparts.
However, by default Selenium will select OK when a confirmation pops up. Try recording
clicking on the &ldquo;Show confirm box&rdquo; button in the sample page, but click on the &ldquo;Cancel&rdquo; button
in the popup, then assert the output text. Your test may look something like this:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>open</td><td>/</td><td></td></tr><tr><td>click</td><td>btnConfirm</td><td></td></tr><tr><td>chooseCancelOnNextConfirmation</td><td></td><td></td></tr><tr><td>assertConfirmation</td><td>Choose an option.</td><td></td></tr><tr><td>verifyTextPresent</td><td>Rejected</td><td></td></tr></tbody></table><p>The <code>chooseCancelOnNextConfirmation</code> function tells Selenium that all following
confirmation should return false. It can be reset by calling chooseOkOnNextConfirmation.</p><p>You may notice that you cannot replay this test, because Selenium complains that there
is an unhandled confirmation. This is because the order of events Selenium-IDE records
causes the click and chooseCancelOnNextConfirmation to be put in the wrong order (it makes sense
if you think about it, Selenium can&rsquo;t know that you&rsquo;re cancelling before you open a confirmation)
Simply switch these two commands and your test will run fine.</p><h3 id=prompts>Prompts</h3><p>Prompts behave in much the same way as alerts, with <code>assertPrompt</code> and <code>assertPromptPresent</code>
offering the same characteristics as their alert counterparts. By default, Selenium will wait for
you to input data when the prompt pops up. Try recording clicking on the &ldquo;Show prompt&rdquo; button in
the sample page and enter &ldquo;Selenium&rdquo; into the prompt. Your test may look something like this:</p><table><thead><tr><th>Command</th><th>Target</th><th>Value</th></tr></thead><tbody><tr><td>open</td><td>/</td><td></td></tr><tr><td>answerOnNextPrompt</td><td>Selenium!</td><td></td></tr><tr><td>click</td><td>id=btnPrompt</td><td></td></tr><tr><td>assertPrompt</td><td>What’s the best web QA tool?</td><td></td></tr><tr><td>verifyTextPresent</td><td>Selenium!</td><td></td></tr></tbody></table><p>If you choose cancel on the prompt, you may notice that answerOnNextPrompt will simply show a
target of blank. Selenium treats cancel and a blank entry on the prompt basically as the same thing.</p><h2 id=debugging>Debugging</h2><p>Debugging means finding and fixing errors in your test case. This is a normal
part of test case development.</p><p>We won&rsquo;t teach debugging here as most new users to Selenium will already have
some basic experience with debugging. If this is new to you, we recommend
you ask one of the developers in your organization.</p><h3 id=breakpoints-and-startpoints>Breakpoints and Startpoints</h3><p>The Sel-IDE supports the setting of breakpoints and the ability to start and
stop the running of a test case, from any point within the test case. That is, one
can run up to a specific command in the middle of the test case and inspect how
the test case behaves at that point. To do this, set a breakpoint on the
command just before the one to be examined.</p><p>To set a breakpoint, select a command, right-click, and from the context menu
select <em>Toggle Breakpoint</em>. Then click the Run button to run your test case from
the beginning up to the breakpoint.</p><p>It is also sometimes useful to run a test case from somewhere in the middle to
the end of the test case or up to a breakpoint that follows the starting point.<br>For example, suppose your test case first logs into the website and then
performs a series of tests and you are trying to debug one of those tests.<br>However, you only need to login once, but you need to keep rerunning your
tests as you are developing them. You can login once, then run your test case
from a startpoint placed after the login portion of your test case. That will
prevent you from having to manually logout each time you rerun your test case.</p><p>To set a startpoint, select a command, right-click, and from the context
menu select <em>Set/Clear Start Point</em>. Then click the Run button to execute the
test case beginning at that startpoint.</p><h3 id=stepping-through-a-testcase>Stepping Through a Testcase</h3><p>To execute a test case one command at a time (&ldquo;step through&rdquo; it), follow these
steps:</p><ol><li><p>Start the test case running with the Run button from the toolbar.</p></li><li><p>Immediately pause the executing test case with the Pause button.</p></li><li><p>Repeatedly select the Step button.</p></li></ol><h3 id=find-button>Find Button</h3><p>The Find button is used to see which UI element on the currently displayed
webpage (in the browser) is used in the currently selected Selenium command.<br>This is useful when building a locator for a command&rsquo;s first parameter (see the
section on :ref:<code>locators &lt;locators-section></code> in the Selenium Commands chapter).
It can be used with any command that identifies a UI element on a webpage,
i.e. <em>click</em>, <em>clickAndWait</em>, <em>type</em>, and certain <em>assert</em> and <em>verify</em> commands,
among others.</p><p>From Table view, select any command that has a locator parameter.
Click the Find button.<br>Now look on the webpage: There should be a bright green rectangle
enclosing the element specified by the locator parameter.</p><h3 id=page-source-for-debugging>Page Source for Debugging</h3><p>Often, when debugging a test case, you simply must look at the page source (the
HTML for the webpage you&rsquo;re trying to test) to determine a problem. Firefox
makes this easy. Simply right-click the webpage and select &lsquo;View->Page Source.<br>The HTML opens in a separate window. Use its Search feature (Edit=>Find)
to search for a keyword to find the HTML for the UI element you&rsquo;re trying
to test.</p><p>Alternatively, select just that portion of the webpage for which you want to
see the source. Then right-click the webpage and select View Selection
Source. In this case, the separate HTML window will contain just a small
amount of source, with highlighting on the portion representing your
selection.</p><h3 id=locator-assistance>Locator Assistance</h3><p>Whenever Selenium-IDE records a locator-type argument, it stores
additional information which allows the user to view other possible
locator-type arguments that could be used instead. This feature can be
very useful for learning more about locators, and is often needed to help
one build a different type of locator than the type that was recorded.</p><p>This locator assistance is presented on the Selenium-IDE window as a drop-down
list accessible at the right end of the Target field
(only when the Target field contains a recorded locator-type argument).<br>Below is a snapshot showing the
contents of this drop-down for one command. Note that the first column of
the drop-down provides alternative locators, whereas the second column
indicates the type of each alternative.</p><p><img src=/images/documentation/legacy/selenium_ide_locator_assistance.png alt="Selenium Locator Assistance"></p><h2 id=writing-a-test-suite>Writing a Test Suite</h2><p>A test suite is a collection of test cases which is displayed in the leftmost
pane in the IDE.<br>The test suite pane can be manually opened or closed via selecting a small dot
halfway down the right edge of the pane (which is the left edge of the
entire Selenium-IDE window if the pane is closed).</p><p>The test suite pane will be automatically opened when an existing test suite
is opened <em>or</em> when the user selects the New Test Case item from the
File menu. In the latter case, the new test case will appear immediately
below the previous test case.</p><p>Selenium-IDE also supports loading pre-existing test cases by using the File
-> Add Test Case menu option. This allows you to add existing test cases to
a new test suite.</p><p>A test suite file is an HTML file containing a one-column table. Each
cell of each row in the<tbody>section contains a link to a test case.
The example below is of a test suite containing four test cases:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>http-equiv</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Content-Type&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/html; charset=UTF-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Sample Selenium Test Suite<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span> <span style=color:#c4a000>cellpadding</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>cellspacing</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>border</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>thead</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Test Cases for De Anza A-Z Directory Links<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>thead</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./a.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>A Links<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./b.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>B Links<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./c.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>C Links<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;./d.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>D Links<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>Note: Test case files should not have to be co-located with the test suite file
that invokes them. And on Mac OS and Linux systems, that is indeed the
case. However, at the time of this writing, a bug prevents Windows users
from being able to place the test cases elsewhere than with the test suite
that invokes them.</p><h2 id=user-extensions>User Extensions</h2><p>User extensions are JavaScript files that allow one to create his or her own
customizations and features to add additional functionality. Often this is in
the form of customized commands although this extensibility is not limited to
additional commands.</p><p>There are a number of useful extensions_ created by users.</p><p><em>IMPORTANT: THIS SECTION IS OUT OF DATE&ndash;WE WILL BE REVISING THIS SOON.</em></p><ul><li>_extensions: <a href=http://wiki.openqa.org/display/SEL/Contributed+User-Extensions>http://wiki.openqa.org/display/SEL/Contributed+User-Extensions</a></li></ul><p>.. _<a href=http://wiki.openqa.org/download/attachments/379/goto_sel_ide.js><code>goto_sel_ide.js extension</code></a>:</p><p>Perhaps the most popular of all Selenium-IDE extensions
is one which provides flow control in the form of while loops and primitive
conditionals. This extension is the goto_sel_ide.js_. For an example
of how to use the functionality provided by this extension, look at the
page_ created by its author.</p><p>To install this extension, put the pathname to its location on your
computer in the <strong>Selenium Core extensions</strong> field of Selenium-IDE&rsquo;s
Options=>Options=>General tab.</p><p><img src=/images/documentation/legacy/selenium_ide_extensions_install.png alt="Selenium IDE Extensions Install"></p><p>After selecting the <strong>OK</strong> button, you must close and reopen Selenium-IDE
in order for the extensions file to be read. Any change you make to an
extension will also require you to close and reopen Selenium-IDE.</p><p>Information on writing your own extensions can be found near the
bottom of the Selenium Reference_ document.</p><p>Sometimes it can prove very useful to debug step by step Selenium IDE and your
User Extension. The only debugger that appears able to debug
XUL/Chrome based extensions is Venkman which is supported in Firefox until version 32 included.
The step by step debug has been verified to work with Firefox 32 and Selenium IDE 2.9.0.</p><h2 id=format>Format</h2><p>Format, under the Options menu, allows you to select a language for saving
and displaying the test case. The default is HTML.</p><p>If you will be using Selenium-RC to run your test cases, this feature is used
to translate your test case into a programming language. Select the
language, e.g. Java, PHP, you will be using with Selenium-RC for developing
your test programs. Then simply save the test case using File=>Export Test Case As.
Your test case will be translated into a series of functions in the language you
choose. Essentially, program code supporting your test is generated for you
by Selenium-IDE.</p><p>Also, note that if the generated code does not suit your needs, you can alter
it by editing a configuration file which defines the generation process.<br>Each supported language has configuration settings which are editable. This
is under the Options=>Options=>Formats tab.</p><h2 id=executing-selenium-ide-tests-on-different-browsers>Executing Selenium-IDE Tests on Different Browsers</h2><p>While Selenium-IDE can only run tests against Firefox, tests
developed with Selenium-IDE can be run against other browsers, using a
simple command-line interface that invokes the Selenium-RC server. This topic
is covered in the :ref:<code>Run Selenese tests &lt;html-suite></code> section on Selenium-RC
chapter. The <em>-htmlSuite</em> command-line option is the particular feature of interest.</p><h2 id=troubleshooting>Troubleshooting</h2><p>Below is a list of image/explanation pairs which describe frequent
sources of problems with Selenium-IDE:</p><p><em>Table view is not available with this format.</em></p><p>This message can be occasionally displayed in the Table tab when Selenium IDE is
launched. The workaround is to close and reopen Selenium IDE. See
<a href="http://code.google.com/p/selenium/issues/detail?id=1008">issue 1008</a>.
for more information. If you are able to reproduce this reliably then please
provide details so that we can work on a fix.</p><hr><p><em>error loading test case: no command found</em></p><p>You&rsquo;ve used <strong>File=>Open</strong> to try to open a test suite file. Use <strong>File=>Open
Test Suite</strong> instead.</p><p>An enhancement request has been raised to improve this error message. See
<a href="http://code.google.com/p/selenium/issues/detail?id=1010">issue 1010</a>.</p><hr><p><img src=/images/documentation/legacy/selenium_ide_trouble_timing.png alt="Selenium IDE Trouble Timing"></p><p>This type of <strong>error</strong> may indicate a timing problem, i.e., the element
specified by a locator in your command wasn&rsquo;t fully loaded when the command
was executed. Try putting a <strong>pause 5000</strong> before the command to determine
whether the problem is indeed related to timing. If so, investigate using an
appropriate <strong>waitFor*</strong> or <strong>*AndWait</strong> command before the failing command.</p><hr><p><img src=/images/documentation/legacy/selenium_ide_trouble_param.png alt="Selenium IDE Trouble Param"></p><p>Whenever your attempt to use variable substitution fails as is the
case for the <strong>open</strong> command above, it indicates
that you haven&rsquo;t actually created the variable whose value you&rsquo;re
trying to access. This is
sometimes due to putting the variable in the <strong>Value</strong> field when it
should be in the <strong>Target</strong> field or vice versa. In the example above,
the two parameters for the <strong>store</strong> command have been erroneously
placed in the reverse order of what is required.
For any Selenese command, the first required parameter must go
in the <strong>Target</strong> field, and the second required parameter (if one exists)
must go in the <strong>Value</strong> field.</p><hr><p><em>error loading test case: [Exception&mldr; &ldquo;Component returned failure code:
0x80520012 (NS_ERROR_FILE_NOT_FOUND) [nsIFileInputStream.init]&rdquo; nresult:
&ldquo;0x80520012 (NS_ERROR_FILE_NOT_FOUND)&rdquo; location: &ldquo;JS frame ::
chrome://selenium-ide/content/file-utils.js :: anonymous :: line 48&rdquo; data: no]</em></p><p>One of the test cases in your test suite cannot be found. Make sure that the
test case is indeed located where the test suite indicates it is located. Also,
make sure that your actual test case files have the .html extension both in
their filenames, and in the test suite file where they are referenced.</p><p>An enhancement request has been raised to improve this error message. See
<a href="http://code.google.com/p/selenium/issues/detail?id=1011">issue 1011</a>.</p><hr><p><img src=/images/documentation/legacy/selenium_ide_trouble_extension.png alt="Selenium IDE Trouble Extension"></p><p>Your extension file&rsquo;s contents have not been read by Selenium-IDE. Be
sure you have specified the proper pathname to the extensions file via
<strong>Options=>Options=>General</strong> in the <strong>Selenium Core extensions</strong> field.
Also, Selenium-IDE must be restarted after any change to either an
extensions file <em>or</em> to the contents of the <strong>Selenium Core extensions</strong>
field.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-79b55613fab8efd3102a974a15d92b90>4.1 - HTML runner</h1><div class=lead>Execute HTML Selenium IDE exports from command line</div><p><em>Selenium HTML-runner</em> 允许您从命令行运行 Test Suites。
Test Suites 是从 Selenium IDE 或兼容工具导出的 HTML。</p><h2 id=公共信息>公共信息</h2><ul><li><p>geckodriver / firefox / selenium-html-runner 版本的组合很重要。
可能在某个地方有一个软件兼容性矩阵。</p></li><li><p>selenium-html-runner 只运行 Test Suite（而不是 Test Case —— 例如从 Monitis Transaction Monitor 导出的东西）。一定要遵守这个规定。</p></li><li><p>对于没有 DISPLAY 的 Linux 用户，您需要启动具有 Virtual DISPLAY 的 html-runner （搜索 xvfb）</p></li></ul><h2 id=示例-linux-环境>示例 Linux 环境</h2><p>安装 / 下载以下软件包：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>user@localhost ~<span style=color:#ce5c00;font-weight:700>]</span>$ cat /etc/redhat-release
</span></span><span style=display:flex><span>CentOS Linux release 7.4.1708 <span style=color:#ce5c00;font-weight:700>(</span>Core<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>user@localhost ~<span style=color:#ce5c00;font-weight:700>]</span>$ rpm -qa <span style=color:#000;font-weight:700>|</span> egrep -i <span style=color:#4e9a06>&#34;xvfb|java-1.8|firefox&#34;</span>
</span></span><span style=display:flex><span>xorg-x11-server-Xvfb-1.19.3-11.el7.x86_64
</span></span><span style=display:flex><span>firefox-52.4.0-1.el7.centos.x86_64
</span></span><span style=display:flex><span>java-1.8.0-openjdk-1.8.0.151-1.b12.el7_4.x86_64
</span></span><span style=display:flex><span>java-1.8.0-openjdk-headless-1.8.0.151-1.b12.el7_4.x86_64
</span></span></code></pre></div><p>Test Suite 示例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>[user@localhost ~]$ cat testsuite.html
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Strict//EN&#34; &#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>xmlns</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;http://www.w3.org/1999/xhtml&#34;</span> <span style=color:#c4a000>xml:lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;en&#34;</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;en&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/html; charset=UTF-8&#34;</span> <span style=color:#c4a000>http-equiv</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;content-type&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Test Suite<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;suiteTable&#34;</span> <span style=color:#c4a000>cellpadding</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>cellspacing</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>border</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;selenium&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;</span>Test Suite<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>b</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;YOUR-TEST-SCENARIO.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>YOUR-TEST-SCENARIO<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h2 id=如何运行-selenium-html-runner-headless>如何运行 selenium-html-runner headless</h2><p>现在，最重要的部分，一个如何运行 selenium-html-runner 的例子！
您的体验可能因软件组合而异 - geckodriver / FF / html-runner 版本。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>xvfb-run java -Dwebdriver.gecko.driver<span style=color:#ce5c00;font-weight:700>=</span>/home/mmasek/geckodriver.0.18.0 -jar selenium-html-runner-3.7.1.jar -htmlSuite <span style=color:#4e9a06>&#34;firefox&#34;</span> <span style=color:#4e9a06>&#34;https://YOUR-BASE-URL&#34;</span> <span style=color:#4e9a06>&#34;</span><span style=color:#204a87;font-weight:700>$(</span><span style=color:#204a87>pwd</span><span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>/testsuite.html&#34;</span> <span style=color:#4e9a06>&#34;results.html&#34;</span> <span style=color:#000;font-weight:700>;</span> grep result: -A1 results.html/firefox.results.html
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>user@localhost ~<span style=color:#ce5c00;font-weight:700>]</span>$ xvfb-run java -Dwebdriver.gecko.driver<span style=color:#ce5c00;font-weight:700>=</span>/home/mmasek/geckodriver.0.18.0 -jar selenium-html-runner-3.7.1.jar -htmlSuite <span style=color:#4e9a06>&#34;*firefox&#34;</span> <span style=color:#4e9a06>&#34;https://YOUR-BASE-URL&#34;</span> <span style=color:#4e9a06>&#34;</span><span style=color:#204a87;font-weight:700>$(</span><span style=color:#204a87>pwd</span><span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>/testsuite.html&#34;</span> <span style=color:#4e9a06>&#34;results.html&#34;</span> <span style=color:#000;font-weight:700>;</span> grep result: -A1 results.html/firefox.results.html
</span></span><span style=display:flex><span>Multi-window mode is longer used as an option and will be ignored.
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>1510061109691</span>   geckodriver     INFO    geckodriver 0.18.0
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>1510061109708</span>   geckodriver     INFO    Listening on 127.0.0.1:2885
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>1510061110162</span>   geckodriver::marionette INFO    Starting browser /usr/bin/firefox with args <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;-marionette&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>1510061111084</span>   Marionette      INFO    Listening on port <span style=color:#0000cf;font-weight:700>43229</span>
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>1510061111187</span>   Marionette      WARN    TLS certificate errors will be ignored <span style=color:#204a87;font-weight:700>for</span> this session
</span></span><span style=display:flex><span>Nov 07, <span style=color:#0000cf;font-weight:700>2017</span> 1:25:12 PM org.openqa.selenium.remote.ProtocolHandshake createSession
</span></span><span style=display:flex><span>INFO: Detected dialect: W3C
</span></span><span style=display:flex><span>2017-11-07 13:25:12.714:INFO::main: Logging initialized @3915ms to org.seleniumhq.jetty9.util.log.StdErrLog
</span></span><span style=display:flex><span>2017-11-07 13:25:12.804:INFO:osjs.Server:main: jetty-9.4.z-SNAPSHOT
</span></span><span style=display:flex><span>2017-11-07 13:25:12.822:INFO:osjsh.ContextHandler:main: Started o.s.j.s.h.ContextHandler@87a85e1<span style=color:#ce5c00;font-weight:700>{</span>/tests,null,AVAILABLE<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>2017-11-07 13:25:12.843:INFO:osjs.AbstractConnector:main: Started ServerConnector@52102734<span style=color:#ce5c00;font-weight:700>{</span>HTTP/1.1,<span style=color:#ce5c00;font-weight:700>[</span>http/1.1<span style=color:#ce5c00;font-weight:700>]}{</span>0.0.0.0:31892<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>2017-11-07 13:25:12.843:INFO:osjs.Server:main: Started @4045ms
</span></span><span style=display:flex><span>Nov 07, <span style=color:#0000cf;font-weight:700>2017</span> 1:25:13 PM org.openqa.selenium.server.htmlrunner.CoreTestCase run
</span></span><span style=display:flex><span>INFO: <span style=color:#000;font-weight:700>|</span>open <span style=color:#000;font-weight:700>|</span> /auth_mellon.php <span style=color:#000;font-weight:700>|</span>  <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>Nov 07, <span style=color:#0000cf;font-weight:700>2017</span> 1:25:14 PM org.openqa.selenium.server.htmlrunner.CoreTestCase run
</span></span><span style=display:flex><span>INFO: <span style=color:#000;font-weight:700>|</span>waitForPageToLoad <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>3000</span> <span style=color:#000;font-weight:700>|</span>  <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>.
</span></span><span style=display:flex><span>.
</span></span><span style=display:flex><span>.etc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;td&gt;result:&lt;/td&gt;
</span></span><span style=display:flex><span>&lt;td&gt;PASS&lt;/td&gt;
</span></span></code></pre></div></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/Digital.ai.jpg alt=Digital.ai></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.lambdatest.com/selenium-automation?utm_source=selenium&utm_medium=open-source-sponsor&utm_campaign=nov_14&utm_term=sk&utm_content=web" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.subject-7.com/unified-testing/?utm_source=selenium&utm_medium=unifiedtesting&utm_campaign=product" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/subject7_logo.png alt=Subject7></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.avoautomation.ai/why-avo//?utm_source=SeleniumHQ&utm_medium=listing&utm_campaign=SeleniumHQ" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/Avo_logo.png alt="Avo Automation"></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text>Want to support the Selenium project? Learn more or view the full list of sponsors.</p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase fw-bold">Learn more
<i class="ps-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-end text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/seleniumhq/shared_invite/zt-22b85hmhv-krEcWUFQCOWh8XfQTWOATQ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://kiwiirc.com/nextclient/irc.libera.chat/#selenium aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-bs-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><a href=https://www.netlify.com><img style=margin-right:50px src=https://www.netlify.com/v3/img/components/netlify-light.svg alt="Deploys by Netlify"></a></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 Software Freedom Conservancy 保留所有权利</small><p class=mt-2><a href=/zh-cn/documentation/about/>关于这个文档</a></p></div></div></div></footer></div><script src=/js/main.min.bfefba6b7ccbf88710915ea7a0df9461124cad8959623d18119929418a2da080.js integrity="sha256-v++6a3zL+IcQkV6noN+UYRJMrYlZYj0YEZkpQYotoIA=" crossorigin=anonymous></script>
<script src=/js/prism.js></script>
<script src=/js/tabpane-persist.js></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>docsearch({container:"#docsearch",appId:"6IOXA5JK7Z",indexName:"selenium",apiKey:"2b44a1d3530f9951dd6502059058984a",debug:!1})</script></body></html>