<!doctype html><html lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>从RC迁移到WebDriver | Selenium</title><meta name=description content="如何迁移到Selenium WebDriver
在采用Selenium 2时, 一个常见的问题是,
在将新测试添加到现有测试集中时,
正确的做法是什么?
刚接触框架的用户可以通过使用新的WebDriver API编写测试开始.
但是, 已经拥有一套现有测试的用户又该如何呢?
本指南旨在演示如何将现有 …"><meta property="og:title" content="从RC迁移到WebDriver"><meta property="og:description" content="如何迁移到Selenium WebDriver 在采用Selenium 2时, 一个常见的问题是, 在将新测试添加到现有测试集中时, 正确的做法是什么? 刚接触框架的用户可以通过使用新的WebDriver API编写测试开始. 但是, 已经拥有一套现有测试的用户又该如何呢? 本指南旨在演示如何将现有测试迁移到新的API, 从而允许使用WebDriver提供的新功能编写所有新测试.
此处介绍的方法描述了向WebDriver API的零星迁移, 而无需一次大刀阔斧地重新进行所有工作. 这意味着您可以留出更多时间来迁移现有测试, 这可以使您更轻松地决定将精力花在哪里.
本指南使用Java编写, 因为它为迁移提供了最佳支持. 由于我们为其他语言提供了更好的工具, 因此本指南将扩展为包括这些语言.
为什么要迁移到WebDriver 将一组测试从一个API移到另一个API需要大量的工作. 为什么您和您的团队考虑采取此举? 这是您应考虑迁移Selenium测试以使用WebDriver的一些原因.
 较小, 紧凑的API. WebDriver的API比原始的Selenium RC API更面向对象. 这样可以更轻松地使用. 更好地模拟用户交互. WebDriver在可能的情况下利用本机事件与网页进行交互. 这更紧密地模仿了您的用户使用您的网站和应用程序的方式. 此外, WebDriver提供了高级的用户交互API, 使您可以为与网站的复杂交互建模. 浏览器供应商的支持. Opera, Mozilla和Google都是WebDriver开发的积极参与者, 并且各自都有工程师致力于改善框架. 通常, 这意味着对WebDriver的支持已包含在浏览器本身中： 您的测试运行得尽可能快且稳定.  在开始之前 为了使迁移过程尽可能轻松, 请确保所有测试都在最新的Selenium版本中正常运行. 这听起来似乎显而易见, 但是最好说一下!
开始上手 开始迁移的第一步是更改获取Selenium实例的方式. 使用Selenium RC时, 就像这样:
Selenium selenium = new DefaultSelenium(&#34;localhost&#34;, 4444, &#34;*firefox&#34;, &#34;http://www.yoursite.com&#34;); selenium.start(); 应该这样替换:
WebDriver driver = new FirefoxDriver(); Selenium selenium = new WebDriverBackedSelenium(driver, &#34;http://www."><meta property="og:type" content="article"><meta property="og:url" content="/zh-cn/documentation/legacy/migrating_from_rc_to_webdriver/"><meta property="og:image" content="/images/selenium_4_logo.png"><meta property="article:section" content="documentation"><meta property="article:modified_time" content="2021-11-15T20:38:01+05:30"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="从RC迁移到WebDriver"><meta itemprop=description content="如何迁移到Selenium WebDriver 在采用Selenium 2时, 一个常见的问题是, 在将新测试添加到现有测试集中时, 正确的做法是什么? 刚接触框架的用户可以通过使用新的WebDriver API编写测试开始. 但是, 已经拥有一套现有测试的用户又该如何呢? 本指南旨在演示如何将现有测试迁移到新的API, 从而允许使用WebDriver提供的新功能编写所有新测试.
此处介绍的方法描述了向WebDriver API的零星迁移, 而无需一次大刀阔斧地重新进行所有工作. 这意味着您可以留出更多时间来迁移现有测试, 这可以使您更轻松地决定将精力花在哪里.
本指南使用Java编写, 因为它为迁移提供了最佳支持. 由于我们为其他语言提供了更好的工具, 因此本指南将扩展为包括这些语言.
为什么要迁移到WebDriver 将一组测试从一个API移到另一个API需要大量的工作. 为什么您和您的团队考虑采取此举? 这是您应考虑迁移Selenium测试以使用WebDriver的一些原因.
 较小, 紧凑的API. WebDriver的API比原始的Selenium RC API更面向对象. 这样可以更轻松地使用. 更好地模拟用户交互. WebDriver在可能的情况下利用本机事件与网页进行交互. 这更紧密地模仿了您的用户使用您的网站和应用程序的方式. 此外, WebDriver提供了高级的用户交互API, 使您可以为与网站的复杂交互建模. 浏览器供应商的支持. Opera, Mozilla和Google都是WebDriver开发的积极参与者, 并且各自都有工程师致力于改善框架. 通常, 这意味着对WebDriver的支持已包含在浏览器本身中： 您的测试运行得尽可能快且稳定.  在开始之前 为了使迁移过程尽可能轻松, 请确保所有测试都在最新的Selenium版本中正常运行. 这听起来似乎显而易见, 但是最好说一下!
开始上手 开始迁移的第一步是更改获取Selenium实例的方式. 使用Selenium RC时, 就像这样:
Selenium selenium = new DefaultSelenium(&#34;localhost&#34;, 4444, &#34;*firefox&#34;, &#34;http://www.yoursite.com&#34;); selenium.start(); 应该这样替换:
WebDriver driver = new FirefoxDriver(); Selenium selenium = new WebDriverBackedSelenium(driver, &#34;http://www."><meta itemprop=dateModified content="2021-11-15T20:38:01+05:30"><meta itemprop=wordCount content="288"><meta itemprop=image content="/images/selenium_4_logo.png"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/selenium_4_logo.png"><meta name=twitter:title content="从RC迁移到WebDriver"><meta name=twitter:description content="如何迁移到Selenium WebDriver 在采用Selenium 2时, 一个常见的问题是, 在将新测试添加到现有测试集中时, 正确的做法是什么? 刚接触框架的用户可以通过使用新的WebDriver API编写测试开始. 但是, 已经拥有一套现有测试的用户又该如何呢? 本指南旨在演示如何将现有测试迁移到新的API, 从而允许使用WebDriver提供的新功能编写所有新测试.
此处介绍的方法描述了向WebDriver API的零星迁移, 而无需一次大刀阔斧地重新进行所有工作. 这意味着您可以留出更多时间来迁移现有测试, 这可以使您更轻松地决定将精力花在哪里.
本指南使用Java编写, 因为它为迁移提供了最佳支持. 由于我们为其他语言提供了更好的工具, 因此本指南将扩展为包括这些语言.
为什么要迁移到WebDriver 将一组测试从一个API移到另一个API需要大量的工作. 为什么您和您的团队考虑采取此举? 这是您应考虑迁移Selenium测试以使用WebDriver的一些原因.
 较小, 紧凑的API. WebDriver的API比原始的Selenium RC API更面向对象. 这样可以更轻松地使用. 更好地模拟用户交互. WebDriver在可能的情况下利用本机事件与网页进行交互. 这更紧密地模仿了您的用户使用您的网站和应用程序的方式. 此外, WebDriver提供了高级的用户交互API, 使您可以为与网站的复杂交互建模. 浏览器供应商的支持. Opera, Mozilla和Google都是WebDriver开发的积极参与者, 并且各自都有工程师致力于改善框架. 通常, 这意味着对WebDriver的支持已包含在浏览器本身中： 您的测试运行得尽可能快且稳定.  在开始之前 为了使迁移过程尽可能轻松, 请确保所有测试都在最新的Selenium版本中正常运行. 这听起来似乎显而易见, 但是最好说一下!
开始上手 开始迁移的第一步是更改获取Selenium实例的方式. 使用Selenium RC时, 就像这样:
Selenium selenium = new DefaultSelenium(&#34;localhost&#34;, 4444, &#34;*firefox&#34;, &#34;http://www.yoursite.com&#34;); selenium.start(); 应该这样替换:
WebDriver driver = new FirefoxDriver(); Selenium selenium = new WebDriverBackedSelenium(driver, &#34;http://www."><link rel=preload href=/scss/main.min.9dfeff3fd02d7e6770041efaeaa2d7e9ecd602e820f926eb6921691c1f253d02.css as=style><link href=/scss/main.min.9dfeff3fd02d7e6770041efaeaa2d7e9ecd602e820f926eb6921691c1f253d02.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><script defer data-domain=selenium.dev src=https://plausible.io/js/plausible.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark navbar-color td-navbar"><a class=navbar-brand href=/zh-cn/><span class=navbar-logo><svg id="selenium_logo" data-name="Selenium Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-selenium_logo{fill:#fff}</style></defs><title>Selenium</title><path class="cls-selenium_logo" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-selenium_logo" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-selenium_logo" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-selenium_logo" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-selenium_logo" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-selenium_logo" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-selenium_logo" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-selenium_logo" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-selenium_logo" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-selenium_logo" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-cn/about>About Selenium</a>
<a class=dropdown-item href=/zh-cn/project>Structure and Governance</a>
<a class=dropdown-item href=/zh-cn/events>Events</a>
<a class=dropdown-item href=/zh-cn/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/zh-cn/history>History</a>
<a class=dropdown-item href=/zh-cn/getinvolved>Get Involved</a>
<a class=dropdown-item href=/zh-cn/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文简体</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/legacy/migrating_from_rc_to_webdriver/>English</a>
<a class=dropdown-item href=/es/documentation/legacy/migrating_from_rc_to_webdriver/>Español</a>
<a class=dropdown-item href=/de/documentation/legacy/migrating_from_rc_to_webdriver/>Deutsch</a>
<a class=dropdown-item href=/pt-br/documentation/legacy/migrating_from_rc_to_webdriver/>Português (Brasileiro)</a>
<a class=dropdown-item href=/nl/documentation/legacy/migrating_from_rc_to_webdriver/>Nederlands</a>
<a class=dropdown-item href=/fr/documentation/legacy/migrating_from_rc_to_webdriver/>Français</a>
<a class=dropdown-item href=/ja/documentation/legacy/migrating_from_rc_to_webdriver/>日本語</a>
<a class=dropdown-item href=/ko/documentation/legacy/migrating_from_rc_to_webdriver/>한국어</a></div></li></ul><div class=navbar-nav><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文简体</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/legacy/migrating_from_rc_to_webdriver/>English</a>
<a class=dropdown-item href=/es/documentation/legacy/migrating_from_rc_to_webdriver/>Español</a>
<a class=dropdown-item href=/de/documentation/legacy/migrating_from_rc_to_webdriver/>Deutsch</a>
<a class=dropdown-item href=/pt-br/documentation/legacy/migrating_from_rc_to_webdriver/>Português (Brasileiro)</a>
<a class=dropdown-item href=/nl/documentation/legacy/migrating_from_rc_to_webdriver/>Nederlands</a>
<a class=dropdown-item href=/fr/documentation/legacy/migrating_from_rc_to_webdriver/>Français</a>
<a class=dropdown-item href=/ja/documentation/legacy/migrating_from_rc_to_webdriver/>日本語</a>
<a class=dropdown-item href=/ko/documentation/legacy/migrating_from_rc_to_webdriver/>한국어</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cndocumentation-li><a href=/zh-cn/documentation/ title="Selenium 浏览器自动化项目" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-zh-cndocumentation><span>文档</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationoverview-li><a href=/zh-cn/documentation/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationoverview><span>概述</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationoverviewa_deeper_look-li><a href=/zh-cn/documentation/overview/a_deeper_look/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationoverviewa_deeper_look><span>深度介绍</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationgetting_started-li><a href=/zh-cn/documentation/getting_started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationgetting_started><span>入门指南</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgetting_startedinstalling_selenium_libraries-li><a href=/zh-cn/documentation/getting_started/installing_selenium_libraries/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgetting_startedinstalling_selenium_libraries><span>安装 Selenium 库</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgetting_startedinstalling_browser_drivers-li><a href=/zh-cn/documentation/getting_started/installing_browser_drivers/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgetting_startedinstalling_browser_drivers><span>安装浏览器驱动</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgetting_startedhow_to_upgrade_to_selenium_4-li><a href=/zh-cn/documentation/getting_started/how_to_upgrade_to_selenium_4/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgetting_startedhow_to_upgrade_to_selenium_4><span>How to upgrade to Selenium 4</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationwebdriver-li><a href=/zh-cn/documentation/webdriver/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationwebdriver><span>WebDriver</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverunderstanding_the_components-li><a href=/zh-cn/documentation/webdriver/understanding_the_components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverunderstanding_the_components><span>了解组件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverbrowser_manipulation-li><a href=/zh-cn/documentation/webdriver/browser_manipulation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverbrowser_manipulation><span>操控浏览器</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverlocating_elements-li><a href=/zh-cn/documentation/webdriver/locating_elements/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverlocating_elements><span>定位元素</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverwaits-li><a href=/zh-cn/documentation/webdriver/waits/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverwaits><span>等待</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverjs_alerts_prompts_and_confirmations-li><a href=/zh-cn/documentation/webdriver/js_alerts_prompts_and_confirmations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverjs_alerts_prompts_and_confirmations><span>JavaScript 警告框,提示框和确认框</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverhttp_proxies-li><a href=/zh-cn/documentation/webdriver/http_proxies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverhttp_proxies><span>Http 代理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverpage_loading_strategy-li><a href=/zh-cn/documentation/webdriver/page_loading_strategy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverpage_loading_strategy><span>页面加载策略</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverweb_element-li><a href=/zh-cn/documentation/webdriver/web_element/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverweb_element><span>网络元素</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverkeyboard-li><a href=/zh-cn/documentation/webdriver/keyboard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverkeyboard><span>Keyboard</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverremote_webdriver-li><a href=/zh-cn/documentation/webdriver/remote_webdriver/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverremote_webdriver><span>Remote WebDriver</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdriverbidi_apis-li><a href=/zh-cn/documentation/webdriver/bidi_apis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdriverbidi_apis><span>BiDi APIs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cndocumentationwebdrivercapabilities-li><a href=/zh-cn/documentation/webdriver/capabilities/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationwebdrivercapabilities><span>Capabilities</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdrivercapabilitiesshared_capabilities-li><a href=/zh-cn/documentation/webdriver/capabilities/shared_capabilities/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdrivercapabilitiesshared_capabilities><span>共享的功能</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationwebdrivercapabilitiesdriver_specific_capabilities-li><a href=/zh-cn/documentation/webdriver/capabilities/driver_specific_capabilities/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationwebdrivercapabilitiesdriver_specific_capabilities><span>驱动特定的功能</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationguidelines-li><a href=/zh-cn/documentation/guidelines/ title=指南和建议 class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationguidelines><span>指南</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelineson_test_automation-li><a href=/zh-cn/documentation/guidelines/on_test_automation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelineson_test_automation><span>关于测试自动化</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinestypes_of_testing-li><a href=/zh-cn/documentation/guidelines/types_of_testing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinestypes_of_testing><span>测试的类型</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinespage_object_models-li><a href=/zh-cn/documentation/guidelines/page_object_models/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinespage_object_models><span>PO设计模式</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesdomain_specific_language-li><a href=/zh-cn/documentation/guidelines/domain_specific_language/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesdomain_specific_language><span>领域特定语言</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesgenerating_application_state-li><a href=/zh-cn/documentation/guidelines/generating_application_state/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesgenerating_application_state><span>生成应用程序状态</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesmock_external_services-li><a href=/zh-cn/documentation/guidelines/mock_external_services/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesmock_external_services><span>模拟外部服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesimproved_reporting-li><a href=/zh-cn/documentation/guidelines/improved_reporting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesimproved_reporting><span>改善报告</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesavoid_sharing_state-li><a href=/zh-cn/documentation/guidelines/avoid_sharing_state/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesavoid_sharing_state><span>避免共享状态</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinestest_independency-li><a href=/zh-cn/documentation/guidelines/test_independency/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinestest_independency><span>测试的独立性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesconsider_using_a_fluent_api-li><a href=/zh-cn/documentation/guidelines/consider_using_a_fluent_api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesconsider_using_a_fluent_api><span>考虑使用Fluent API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationguidelinesfresh_browser_per_test-li><a href=/zh-cn/documentation/guidelines/fresh_browser_per_test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationguidelinesfresh_browser_per_test><span>每次测试都刷新浏览器</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationworst_practices-li><a href=/zh-cn/documentation/worst_practices/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationworst_practices><span>反模式</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicescaptchas-li><a href=/zh-cn/documentation/worst_practices/captchas/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicescaptchas><span>验证码</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicesfile_downloads-li><a href=/zh-cn/documentation/worst_practices/file_downloads/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicesfile_downloads><span>文件下载</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practiceshttp_response_codes-li><a href=/zh-cn/documentation/worst_practices/http_response_codes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practiceshttp_response_codes><span>HTTP响应码</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicesgmail_email_and_facebook_logins-li><a href=/zh-cn/documentation/worst_practices/gmail_email_and_facebook_logins/ title="Gmail, email 和 Facebook 登录" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicesgmail_email_and_facebook_logins><span>Gmail, email and Facebook</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicestest_dependency-li><a href=/zh-cn/documentation/worst_practices/test_dependency/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicestest_dependency><span>测试依赖</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicesperformance_testing-li><a href=/zh-cn/documentation/worst_practices/performance_testing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicesperformance_testing><span>性能测试</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practiceslink_spidering-li><a href=/zh-cn/documentation/worst_practices/link_spidering/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practiceslink_spidering><span>爬取链接</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationworst_practicestwo_factor_authentication-li><a href=/zh-cn/documentation/worst_practices/two_factor_authentication/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationworst_practicestwo_factor_authentication><span>双因素认证</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationgrid-li><a href=/zh-cn/documentation/grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationgrid><span>Grid</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridcomponents_of_a_grid-li><a href=/zh-cn/documentation/grid/components_of_a_grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridcomponents_of_a_grid><span>服务网格的组件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridsetting_up_your_own_grid-li><a href=/zh-cn/documentation/grid/setting_up_your_own_grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridsetting_up_your_own_grid><span>配置自己的服务网格</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cndocumentationgridconfiguring_components-li><a href=/zh-cn/documentation/grid/configuring_components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationgridconfiguring_components><span>配置组件</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridconfiguring_componentsconfig_help-li><a href=/zh-cn/documentation/grid/configuring_components/config_help/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridconfiguring_componentsconfig_help><span>配置帮助</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridconfiguring_componentscli_options-li><a href=/zh-cn/documentation/grid/configuring_components/cli_options/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridconfiguring_componentscli_options><span>CLI Options</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridconfiguring_componentstoml_options-li><a href=/zh-cn/documentation/grid/configuring_components/toml_options/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridconfiguring_componentstoml_options><span>Toml选项</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cndocumentationgridadvanced_features-li><a href=/zh-cn/documentation/grid/advanced_features/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationgridadvanced_features><span>高级功能</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridadvanced_featuresobservability-li><a href=/zh-cn/documentation/grid/advanced_features/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridadvanced_featuresobservability><span>Observability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridadvanced_featuresgraphql_support-li><a href=/zh-cn/documentation/grid/advanced_features/graphql_support/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridadvanced_featuresgraphql_support><span>GraphQL查询支持</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridadvanced_featuresgrid_endpoints-li><a href=/zh-cn/documentation/grid/advanced_features/grid_endpoints/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridadvanced_featuresgrid_endpoints><span>Grid端点</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridgrid_architecture-li><a href=/zh-cn/documentation/grid/grid_architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridgrid_architecture><span>Grid Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationgridwhen_to_use_grid-li><a href=/zh-cn/documentation/grid/when_to_use_grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationgridwhen_to_use_grid><span>什么时候应该使用服务网格</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationsupport_packages-li><a href=/zh-cn/documentation/support_packages/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationsupport_packages><span>支持的包</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packagesworking_with_colours-li><a href=/zh-cn/documentation/support_packages/working_with_colours/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packagesworking_with_colours><span>同颜色一起工作</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packagesworking_with_select_elements-li><a href=/zh-cn/documentation/support_packages/working_with_select_elements/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packagesworking_with_select_elements><span>同选择元素一起工作</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packagesmouse_and_keyboard_actions_in_detail-li><a href=/zh-cn/documentation/support_packages/mouse_and_keyboard_actions_in_detail/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packagesmouse_and_keyboard_actions_in_detail><span>鼠标动作详细信息</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packagesworking_with_cookies-li><a href=/zh-cn/documentation/support_packages/working_with_cookies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packagesworking_with_cookies><span>同cookies一起工作</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packageschrome_devtools-li><a href=/zh-cn/documentation/support_packages/chrome_devtools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packageschrome_devtools><span>Chrome DevTools Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationsupport_packagesthread_guard-li><a href=/zh-cn/documentation/support_packages/thread_guard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationsupport_packagesthread_guard><span>ThreadGuard</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cndocumentationlegacy-li><a href=/zh-cn/documentation/legacy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationlegacy><span>Legacy</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cndocumentationlegacyselenium_rc-li><a href=/zh-cn/documentation/legacy/selenium_rc/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacyselenium_rc><span>Selenium 1 (Selenium RC)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-zh-cndocumentationlegacymigrating_from_rc_to_webdriver-li><a href=/zh-cn/documentation/legacy/migrating_from_rc_to_webdriver/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacymigrating_from_rc_to_webdriver><span class=td-sidebar-nav-active-item>从RC迁移到WebDriver</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cndocumentationlegacyhtml_runner-li><a href=/zh-cn/documentation/legacy/html_runner/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacyhtml_runner><span>HTML runner</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cndocumentationlegacyselenium_ide-li><a href=/zh-cn/documentation/legacy/selenium_ide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacyselenium_ide><span>Legacy Selenium IDE</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cndocumentationlegacyremote_webdriver_server-li><a href=/zh-cn/documentation/legacy/remote_webdriver_server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacyremote_webdriver_server><span>远程WebDriver服务器</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationlegacygrid_3-li><a href=/zh-cn/documentation/legacy/grid_3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationlegacygrid_3><span>服务网格 3</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationlegacygrid_3components_of_a_grid-li><a href=/zh-cn/documentation/legacy/grid_3/components_of_a_grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacygrid_3components_of_a_grid><span>服务网格的组件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationlegacygrid_3setting_up_your_own_grid-li><a href=/zh-cn/documentation/legacy/grid_3/setting_up_your_own_grid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationlegacygrid_3setting_up_your_own_grid><span>配置自己的服务网格</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cndocumentationabout-li><a href=/zh-cn/documentation/about/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cndocumentationabout><span>关于这个文档</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationaboutcopyright_and_attributions-li><a href=/zh-cn/documentation/about/copyright_and_attributions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationaboutcopyright_and_attributions><span>版权和归属</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cndocumentationaboutcontributing-li><a href=/zh-cn/documentation/about/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cndocumentationaboutcontributing><span>为 Selenium 文档做贡献</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/SeleniumHQ/seleniumhq.github.io/edit/dev/website_and_docs/content/documentation/legacy/migrating_from_rc_to_webdriver.zh-cn.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/SeleniumHQ/seleniumhq.github.io/issues/new?title=%e4%bb%8eRC%e8%bf%81%e7%a7%bb%e5%88%b0WebDriver" target=_blank><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/seleniumhq/selenium/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a>
<a id=print href=/zh-cn/documentation/legacy/_print/><i class="fa fa-print fa-fw"></i> 整节打印</a></div><hr><div class=td-toc><nav id=TableOfContents><ul><li><a href=#如何迁移到selenium-webdriver>如何迁移到Selenium WebDriver</a></li><li><a href=#为什么要迁移到webdriver>为什么要迁移到WebDriver</a></li><li><a href=#在开始之前>在开始之前</a></li><li><a href=#开始上手>开始上手</a></li><li><a href=#下一步>下一步</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#单击和键入更加完整>单击和键入更加完整</a></li><li><a href=#waitforpagetoload很快返回>WaitForPageToLoad很快返回</a></li><li><a href=#通过xpath或css选择器查找并不总是可行-但在selenium-1中却可以>通过XPath或CSS选择器查找并不总是可行, 但在Selenium 1中却可以</a></li><li><a href=#没有browserbot>没有Browserbot</a></li><li><a href=#执行javascript不会返回任何内容>执行JavaScript不会返回任何内容</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/zh-cn/documentation/>文档</a></li><li class=breadcrumb-item><a href=/zh-cn/documentation/legacy/>Legacy</a></li><li class="breadcrumb-item active" aria-current=page><a href=/zh-cn/documentation/legacy/migrating_from_rc_to_webdriver/>从RC迁移到WebDriver</a></li></ol></nav><div class=td-content><h1>从RC迁移到WebDriver</h1><header class=article-meta></header><h2 id=如何迁移到selenium-webdriver>如何迁移到Selenium WebDriver</h2><p>在采用Selenium 2时, 一个常见的问题是,
在将新测试添加到现有测试集中时,
正确的做法是什么?
刚接触框架的用户可以通过使用新的WebDriver API编写测试开始.
但是, 已经拥有一套现有测试的用户又该如何呢?
本指南旨在演示如何将现有测试迁移到新的API,
从而允许使用WebDriver提供的新功能编写所有新测试.</p><p>此处介绍的方法描述了向WebDriver API的零星迁移,
而无需一次大刀阔斧地重新进行所有工作.
这意味着您可以留出更多时间来迁移现有测试,
这可以使您更轻松地决定将精力花在哪里.</p><p>本指南使用Java编写, 因为它为迁移提供了最佳支持.
由于我们为其他语言提供了更好的工具,
因此本指南将扩展为包括这些语言.</p><h2 id=为什么要迁移到webdriver>为什么要迁移到WebDriver</h2><p>将一组测试从一个API移到另一个API需要大量的工作.
为什么您和您的团队考虑采取此举?
这是您应考虑迁移Selenium测试以使用WebDriver的一些原因.</p><ul><li>较小, 紧凑的API.
WebDriver的API比原始的Selenium RC API更面向对象.
这样可以更轻松地使用.</li><li>更好地模拟用户交互.
WebDriver在可能的情况下利用本机事件与网页进行交互.
这更紧密地模仿了您的用户使用您的网站和应用程序的方式.
此外, WebDriver提供了高级的用户交互API,
使您可以为与网站的复杂交互建模.</li><li>浏览器供应商的支持.
Opera, Mozilla和Google都是WebDriver开发的积极参与者,
并且各自都有工程师致力于改善框架.
通常, 这意味着对WebDriver的支持已包含在浏览器本身中：
您的测试运行得尽可能快且稳定.</li></ul><h2 id=在开始之前>在开始之前</h2><p>为了使迁移过程尽可能轻松,
请确保所有测试都在最新的Selenium版本中正常运行.
这听起来似乎显而易见, 但是最好说一下!</p><h2 id=开始上手>开始上手</h2><p>开始迁移的第一步是更改获取Selenium实例的方式.
使用Selenium RC时, 就像这样:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;localhost&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>4444</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;*firefox&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.yoursite.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</code></pre></div><p>应该这样替换:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FirefoxDriver</span><span style=color:#ce5c00;font-weight:700>();</span>
<span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverBackedSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;http://www.yoursite.com&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><h2 id=下一步>下一步</h2><p>一旦测试成功执行, 下一步就是迁移实际的测试代码以使用WebDriver API.
根据代码的抽象程度,
这可能是一个短暂的过程, 也可能是一个漫长的过程.
在这两种情况下, 方法都是相同的,
可以简单地总结一下：修改代码以在使用新API时进行编辑.</p><p>如果您需要从Selenium实例中提取基础WebDriver实现,
则只需将其强制转换为WrapsDriver:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>WrapsDriver</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>getWrappedDriver</span><span style=color:#ce5c00;font-weight:700>();</span>
</code></pre></div><p>这使您可以继续正常传递Selenium实例,
但可以根据需要解包WebDriver实例.</p><p>有时, 您的代码库将主要使用较新的API.
此时, 您可以翻转关系,
使用WebDriver并按需实例化Selenium实例:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>Selenium</span> <span style=color:#000>selenium</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverBackedSelenium</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>baseUrl</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><h2 id=常见问题>常见问题</h2><p>幸运的是, 您不是第一个进行此迁移的人,
因此这里有其他人已经看到的一些常见问题以及如何解决它们.</p><h3 id=单击和键入更加完整>单击和键入更加完整</h3><p>Selenium RC测试中的常见模式如下所示:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;exciting tex&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyDown</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyPress</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
<span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keyUp</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;t&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><p>这依赖于以下事实：
&ldquo;类型"仅替换所标识元素的内容,
而不触发用户与页面进行交互时通常会触发的所有事件.
最后的"key*&ldquo;直接调用导致JS处理程序按预期方式触发.</p><p>使用WebDriverBackedSelenium时,
填写表单字段的结果将是"exciting texttt&rdquo;：
并非您所期望的!
这样做的原因是WebDriver更准确地模拟了用户行为,
因此一直会触发事件.</p><p>相同的事实有时可能会导致页面加载比Selenium 1测试中更早触发.
如果WebDriver抛出"StaleElementException&rdquo;,
您可以说这已经发生.</p><h3 id=waitforpagetoload很快返回>WaitForPageToLoad很快返回</h3><p>发现何时完成页面加载是一项艰巨的任务.
我们的意思是"何时触发加载事件",
&ldquo;何时完成所有AJAX请求&rdquo;,
&ldquo;何时没有网络流量&rdquo;,
&ldquo;何时document.readyState发生更改&rdquo;
或其他所有内容?</p><p>WebDriver试图模拟原始的Selenium行为,
但是由于种种原因, 这种方法并不总是能完美发挥作用.
最常见的原因是, 很难区分在尚未开始的页面加载与在方法调用之间完成的页面加载之间的区别.
有时这意味着在页面完成（甚至开始!）加载之前, 控件已返回测试.</p><p>解决方案是等待特定的东西.
通常, 这可能是您想与之交互的元素,
或者是将某些Javascript变量设置为特定值.
一个例子是:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>Wait</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebDriver</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>wait</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebDriverWait</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Duration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ofSeconds</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>30</span><span style=color:#ce5c00;font-weight:700>));</span>
<span style=color:#000>WebElement</span> <span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>wait</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>until</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>visibilityOfElementLocated</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;some_id&#34;</span><span style=color:#ce5c00;font-weight:700>)));</span>
</code></pre></div><p>其中"visibilityOfElementLocated"实现为:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ExpectedCondition</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebElement</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>visibilityOfElementLocated</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>By</span> <span style=color:#000>locator</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ExpectedCondition</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>WebElement</span><span style=color:#ce5c00;font-weight:700>&gt;()</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebElement</span> <span style=color:#000>apply</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDriver</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
      <span style=color:#000>WebElement</span> <span style=color:#000>toReturn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>locator</span><span style=color:#ce5c00;font-weight:700>);</span>
      <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>toReturn</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isDisplayed</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>toReturn</span><span style=color:#ce5c00;font-weight:700>;</span>
      <span style=color:#ce5c00;font-weight:700>}</span>
      <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
  <span style=color:#ce5c00;font-weight:700>};</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><p>这看起来很复杂, 但这几乎是所有样板代码.
唯一有趣的一点是, 将反复评估"ExpectedCondition",
直到"apply"方法返回的结果既不是"null"
也不是Boolean.FALSE.</p><p>当然, 添加所有这些"等待"调用可能会使您的代码混乱.
如果是这样, 并且您的需求很简单, 请考虑使用隐式等待:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>manage</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>timeouts</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>implicitlyWait</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>30</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>TimeUnit</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SECONDS</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><p>这样, 每次定位某个元素时（如果不存在该元素）,
都会重试该位置, 直到该元素存在或经过30秒为止.</p><h3 id=通过xpath或css选择器查找并不总是可行-但在selenium-1中却可以>通过XPath或CSS选择器查找并不总是可行, 但在Selenium 1中却可以</h3><p>在Selenium 1中, xpath通常使用捆绑的库而不是浏览器本身的功能.
除非没有其他选择, 否则WebDriver将始终使用本机浏览器方法.
这意味着复杂的xpath表达式可能会在某些浏览器上中断.</p><p>Selenium 1中的CSS选择器是使用Sizzle库实现的.
这实现了CSS Selector规范的超集,
而且并不总是清楚您越界的位置.
如果您使用的是WebDriverBackedSelenium,
并且使用Sizzle定位器而不是CSS选择器来查找元素,
则会在控制台上记录一条警告.
值得花时间去寻找这些东西,
尤其是如果由于找不到元素而导致测试失败时.</p><h3 id=没有browserbot>没有Browserbot</h3><p>Selenium RC是基于Selenium Core的,
因此, 当您执行Javascript时,
可以访问Selenium Core的某些部分以使事情变得容易.
由于WebDriver不基于Selenium Core, 因此不再可能.
如何判断您是否正在使用Selenium Core?简单!
只要看看您的"getEval"或类似调用是否在评估的Javascript中使用"Selenium"或"browserbot".</p><p>您可能正在使用browserbot获取测试的当前窗口或文档的句柄.
幸运的是, WebDriver总是在当前窗口的上下文中评估JS,
因此您可以直接使用"window"或"document".</p><p>另外, 您可能正在使用browserbot查找元素.
在WebDriver中, 这样做的习惯是首先找到该元素,
然后将其作为参数传递给Javascript.
从而:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>String</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span>
    <span style=color:#4e9a06>&#34;selenium.browserbot.findElement(&#39;id=foo&#39;, browserbot.getCurrentWindow()).tagName&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><p>变成:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>WebElement</span> <span style=color:#000>element</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findElement</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>By</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
<span style=color:#000>String</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>JavascriptExecutor</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>executeScript</span><span style=color:#ce5c00;font-weight:700>(</span>
    <span style=color:#4e9a06>&#34;return arguments[0].tagName&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><p>请注意, 传入的"element"变量如何显示为JS标准"arguments"数组中的第一项.</p><h3 id=执行javascript不会返回任何内容>执行JavaScript不会返回任何内容</h3><p>WebDriver的JavascriptExecutor将包装所有JS并将其评估为匿名表达式.
这意味着您需要使用"return"关键字:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#000>String</span> <span style=color:#000>title</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>selenium</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEval</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;browserbot.getCurrentWindow().document.title&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><p>变成:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>JavascriptExecutor</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>driver</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>executeScript</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;return document.title;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</code></pre></div><div class="text-muted mt-5 pt-3 border-top">最后修改 November 15, 2021: <a href=https://github.com/SeleniumHQ/seleniumhq.github.io/commit/9f08b378de0cc0d0db70f178a8155dda05107b30>Resolving dependabot alerts (#851)[deploy site] (9f08b37)</a></div></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/experitest.png alt=Experitest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.lambdatest.com/selenium-automation class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="https://www.subject-7.com/?utm_source=SeleniumHQ&utm_medium=referral&utm_campaign=product" class=border-0><img class="w-100 shadow-1-strong rounded selenium-backer-logo" src=/images/sponsors/subject7_logo.png alt=Subject7></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text>Want to support the Selenium project? Learn more or view the full list of sponsors.</p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase font-weight-bold">Learn more
<i class="pl-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/seleniumhq/shared_invite/zt-vv33sc0w-VKKQop3WDV_lfrLXGGHvDw aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://kiwiirc.com/nextclient/irc.libera.chat/#selenium aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Software Freedom Conservancy 保留所有权利</small><p class=mt-2><a href=/zh-cn/documentation/about/>关于这个文档</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><script src=/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js integrity="sha256-XHS4cMaVOTGnBfOQpJx+TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin=anonymous></script><script src=/js/prism.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script><script type=text/javascript>docsearch({apiKey:'f6cea044c21fee6ae07b0b090bf2ca6a',indexName:'selenium',inputSelector:'.td-search-input',debug:!1})</script></body></html>